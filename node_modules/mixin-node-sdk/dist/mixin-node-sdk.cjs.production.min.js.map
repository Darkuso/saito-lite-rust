{"version":3,"file":"mixin-node-sdk.cjs.production.min.js","sources":["../node_modules/regenerator-runtime/runtime.js","../src/mixin/sign.ts","../src/mixin/keystore.ts","../src/mixin/tools.ts","../src/services/request.ts","../src/client/user.ts","../src/client/address.ts","../src/client/app.ts","../src/client/asset.ts","../src/client/attachment.ts","../src/client/conversation.ts","../src/client/message.ts","../src/mixin/encoder.ts","../src/mixin/dump_transacion.ts","../src/client/multisigs.ts","../src/client/pin.ts","../src/client/snapshot.ts","../src/client/transfer.ts","../src/mixin/nfo.ts","../src/client/collectibles.ts","../src/client/index.ts","../src/client/blaze.ts","../src/client/network.ts"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import { randomBytes, createCipheriv, createHash } from 'crypto'\nimport { pki, util, md } from 'node-forge'\nimport { Uint64LE } from 'int64-buffer'\nimport { Keystore } from '../types'\n\nexport const getSignPIN = (keystore: Keystore, pin?: any, iterator?: any) => {\n  const { session_id, private_key, pin_token, pin: _pin } = keystore\n  pin = pin || _pin\n  if (!pin) throw new Error('PIN is required')\n  const blockSize = 16\n\n  let _privateKey: any = toBuffer(private_key, 'base64')\n  let pinKey = _privateKey.length === 64 ? signEncryptEd25519PIN(pin_token, _privateKey) : signPin(pin_token, private_key, session_id)\n\n  let time = new Uint64LE(Date.now() / 1000 | 0).toBuffer()\n  if (iterator == undefined || iterator === '') {\n    iterator = Date.now() * 1000000\n  }\n  iterator = new Uint64LE(iterator).toBuffer()\n  pin = Buffer.from(pin, 'utf8')\n  let buf: any = Buffer.concat([pin, Buffer.from(time), Buffer.from(iterator)])\n  let padding = blockSize - buf.length % blockSize\n  let paddingArray = []\n  for (let i = 0; i < padding; i++) {\n    paddingArray.push(padding)\n  }\n  buf = Buffer.concat([buf, Buffer.from(paddingArray)])\n  let iv16 = randomBytes(16)\n  let cipher = createCipheriv('aes-256-cbc', pinKey, iv16)\n  cipher.setAutoPadding(false)\n  let encrypted_pin_buff = cipher.update(buf, 'utf-8')\n  encrypted_pin_buff = Buffer.concat([iv16, encrypted_pin_buff])\n  return Buffer.from(encrypted_pin_buff).toString('base64')\n}\n\n\nexport function toBuffer(content: any, encoding: any = 'utf8') {\n  if (typeof content === 'object') {\n    content = JSON.stringify(content)\n  }\n  return Buffer.from(content, encoding)\n}\n\nexport function getEd25519Sign(payload: any, privateKey: any) {\n  const header = toBuffer({ alg: 'EdDSA', typ: 'JWT' }).toString('base64')\n  payload = base64url(toBuffer(payload))\n  const result = [header, payload]\n  const sign = base64url(Buffer.from(pki.ed25519.sign({\n    message: result.join('.'),\n    encoding: 'utf8',\n    privateKey,\n  })).toString('base64'))\n  result.push(sign)\n  return result.join('.')\n}\n\nexport const signRequest = (method: string, url: string, body: object | string = ''): string => {\n  if (url.startsWith('https://api.mixin.one')) url = url.replace('https://api.mixin.one', '')\n  if (url.startsWith('https://mixin-api.zeromesh.net')) url = url.replace('https://mixin-api.zeromesh.net', '')\n  if (typeof body === 'object') body = JSON.stringify(body)\n  method = method.toUpperCase()\n  return md.sha256.create().update(method + url + body, 'utf8').digest().toHex()\n}\nfunction signEncryptEd25519PIN(pinToken: any, privateKey: string) {\n  pinToken = Buffer.from(pinToken, 'base64')\n  return scalarMult(privateKeyToCurve25519(privateKey), pinToken.slice(0, 32))\n}\n\n\nfunction signPin(pin_token: any, private_key: any, session_id: any) {\n  pin_token = Buffer.from(pin_token, 'base64')\n  private_key = pki.privateKeyFromPem(private_key)\n  let pinKey = private_key.decrypt(pin_token, 'RSA-OAEP', {\n    md: md.sha256.create(),\n    label: session_id,\n  })\n  return hexToBytes(util.binary.hex.encode(pinKey))\n}\n\n\n\nfunction hexToBytes(hex: any) {\n  const bytes = new Uint8Array(32)\n  for (let c = 0; c < hex.length; c += 2) {\n    bytes[c / 2] = parseInt(hex.substr(c, 2), 16)\n  }\n  return bytes\n}\n\nfunction scalarMult(curvePriv: any, publicKey: any) {\n  curvePriv[0] &= 248\n  curvePriv[31] &= 127\n  curvePriv[31] |= 64\n  let sharedKey = new Uint8Array(32)\n  crypto_scalarmult(sharedKey, curvePriv, publicKey)\n  return sharedKey\n}\n\nfunction base64url(buffer: any) {\n  return buffer.toString('base64').replace(/\\=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_')\n}\n\nfunction privateKeyToCurve25519(privateKey: any) {\n  const seed = privateKey.slice(0, 32)\n  const sha512 = createHash('sha512')\n  sha512.write(seed, 'binary')\n  let digest = sha512.digest()\n  digest[0] &= 248\n  digest[31] &= 127\n  digest[31] |= 64\n  return digest.slice(0, 32)\n}\n\nfunction crypto_scalarmult(q: any, n: any, p: any) {\n  let z = new Uint8Array(32)\n  let x = new Float64Array(80), r, i\n  let a = gf(), b = gf(), c = gf(), d = gf(), e = gf(), f = gf()\n  for (i = 0; i < 31; i++) {\n    z[i] = n[i]\n  }\n  z[31] = (n[31] & 127) | 64\n  z[0] &= 248\n  unpack25519(x, p)\n  for (i = 0; i < 16; i++) {\n    b[i] = x[i]\n    d[i] = a[i] = c[i] = 0\n  }\n  a[0] = d[0] = 1\n  for (i = 254; i >= 0; --i) {\n    r = (z[i >>> 3] >>> (i & 7)) & 1\n    sel25519(a, b, r)\n    sel25519(c, d, r)\n    A(e, a, c)\n    Z(a, a, c)\n    A(c, b, d)\n    Z(b, b, d)\n    S(d, e)\n    S(f, a)\n    M(a, c, a)\n    M(c, b, e)\n    A(e, a, c)\n    Z(a, a, c)\n    S(b, a)\n    Z(c, d, f)\n    M(a, c, gf([0xdb41, 1]))\n    A(a, a, d)\n    M(c, c, a)\n    M(a, d, f)\n    M(d, b, x)\n    S(b, e)\n    sel25519(a, b, r)\n    sel25519(c, d, r)\n  }\n  for (i = 0; i < 16; i++) {\n    x[i + 16] = a[i]\n    x[i + 32] = c[i]\n    x[i + 48] = b[i]\n    x[i + 64] = d[i]\n  }\n  let x32 = x.subarray(32)\n  let x16 = x.subarray(16)\n  inv25519(x32, x32)\n  M(x16, x16, x32)\n  pack25519(q, x16)\n  return 0\n}\n\nfunction gf(init: any = undefined) {\n  let i, r = new Float64Array(16)\n  if (init) {\n    for (i = 0; i < init.length; i++) {\n      r[i] = init[i]\n    }\n  }\n  return r\n}\n\nfunction unpack25519(o: any, n: any) {\n  let i\n  for (i = 0; i < 16; i++) {\n    o[i] = n[2 * i] + (n[2 * i + 1] << 8)\n  }\n  o[15] &= 0x7fff\n}\n\nfunction sel25519(p: any, q: any, b: any) {\n  let t, c = ~(b - 1)\n  for (let i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i])\n    p[i] ^= t\n    q[i] ^= t\n  }\n}\n\nfunction A(o: any, a: any, b: any) {\n  for (let i = 0; i < 16; i++) {\n    o[i] = a[i] + b[i]\n  }\n}\n\nfunction Z(o: any, a: any, b: any) {\n  for (let i = 0; i < 16; i++) {\n    o[i] = a[i] - b[i]\n  }\n}\n\nfunction M(o: any, a: any, b: any) {\n  let v, c, t0 = 0, t1 = 0, t2 = 0, t3 = 0, t4 = 0, t5 = 0, t6 = 0, t7 = 0, t8 = 0, t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0, t16 = 0, t17 = 0, t18 = 0,\n    t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0, t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0, b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4],\n    b5 = b[5], b6 = b[6], b7 = b[7], b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11], b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15]\n  v = a[0]\n  t0 += v * b0\n  t1 += v * b1\n  t2 += v * b2\n  t3 += v * b3\n  t4 += v * b4\n  t5 += v * b5\n  t6 += v * b6\n  t7 += v * b7\n  t8 += v * b8\n  t9 += v * b9\n  t10 += v * b10\n  t11 += v * b11\n  t12 += v * b12\n  t13 += v * b13\n  t14 += v * b14\n  t15 += v * b15\n  v = a[1]\n  t1 += v * b0\n  t2 += v * b1\n  t3 += v * b2\n  t4 += v * b3\n  t5 += v * b4\n  t6 += v * b5\n  t7 += v * b6\n  t8 += v * b7\n  t9 += v * b8\n  t10 += v * b9\n  t11 += v * b10\n  t12 += v * b11\n  t13 += v * b12\n  t14 += v * b13\n  t15 += v * b14\n  t16 += v * b15\n  v = a[2]\n  t2 += v * b0\n  t3 += v * b1\n  t4 += v * b2\n  t5 += v * b3\n  t6 += v * b4\n  t7 += v * b5\n  t8 += v * b6\n  t9 += v * b7\n  t10 += v * b8\n  t11 += v * b9\n  t12 += v * b10\n  t13 += v * b11\n  t14 += v * b12\n  t15 += v * b13\n  t16 += v * b14\n  t17 += v * b15\n  v = a[3]\n  t3 += v * b0\n  t4 += v * b1\n  t5 += v * b2\n  t6 += v * b3\n  t7 += v * b4\n  t8 += v * b5\n  t9 += v * b6\n  t10 += v * b7\n  t11 += v * b8\n  t12 += v * b9\n  t13 += v * b10\n  t14 += v * b11\n  t15 += v * b12\n  t16 += v * b13\n  t17 += v * b14\n  t18 += v * b15\n  v = a[4]\n  t4 += v * b0\n  t5 += v * b1\n  t6 += v * b2\n  t7 += v * b3\n  t8 += v * b4\n  t9 += v * b5\n  t10 += v * b6\n  t11 += v * b7\n  t12 += v * b8\n  t13 += v * b9\n  t14 += v * b10\n  t15 += v * b11\n  t16 += v * b12\n  t17 += v * b13\n  t18 += v * b14\n  t19 += v * b15\n  v = a[5]\n  t5 += v * b0\n  t6 += v * b1\n  t7 += v * b2\n  t8 += v * b3\n  t9 += v * b4\n  t10 += v * b5\n  t11 += v * b6\n  t12 += v * b7\n  t13 += v * b8\n  t14 += v * b9\n  t15 += v * b10\n  t16 += v * b11\n  t17 += v * b12\n  t18 += v * b13\n  t19 += v * b14\n  t20 += v * b15\n  v = a[6]\n  t6 += v * b0\n  t7 += v * b1\n  t8 += v * b2\n  t9 += v * b3\n  t10 += v * b4\n  t11 += v * b5\n  t12 += v * b6\n  t13 += v * b7\n  t14 += v * b8\n  t15 += v * b9\n  t16 += v * b10\n  t17 += v * b11\n  t18 += v * b12\n  t19 += v * b13\n  t20 += v * b14\n  t21 += v * b15\n  v = a[7]\n  t7 += v * b0\n  t8 += v * b1\n  t9 += v * b2\n  t10 += v * b3\n  t11 += v * b4\n  t12 += v * b5\n  t13 += v * b6\n  t14 += v * b7\n  t15 += v * b8\n  t16 += v * b9\n  t17 += v * b10\n  t18 += v * b11\n  t19 += v * b12\n  t20 += v * b13\n  t21 += v * b14\n  t22 += v * b15\n  v = a[8]\n  t8 += v * b0\n  t9 += v * b1\n  t10 += v * b2\n  t11 += v * b3\n  t12 += v * b4\n  t13 += v * b5\n  t14 += v * b6\n  t15 += v * b7\n  t16 += v * b8\n  t17 += v * b9\n  t18 += v * b10\n  t19 += v * b11\n  t20 += v * b12\n  t21 += v * b13\n  t22 += v * b14\n  t23 += v * b15\n  v = a[9]\n  t9 += v * b0\n  t10 += v * b1\n  t11 += v * b2\n  t12 += v * b3\n  t13 += v * b4\n  t14 += v * b5\n  t15 += v * b6\n  t16 += v * b7\n  t17 += v * b8\n  t18 += v * b9\n  t19 += v * b10\n  t20 += v * b11\n  t21 += v * b12\n  t22 += v * b13\n  t23 += v * b14\n  t24 += v * b15\n  v = a[10]\n  t10 += v * b0\n  t11 += v * b1\n  t12 += v * b2\n  t13 += v * b3\n  t14 += v * b4\n  t15 += v * b5\n  t16 += v * b6\n  t17 += v * b7\n  t18 += v * b8\n  t19 += v * b9\n  t20 += v * b10\n  t21 += v * b11\n  t22 += v * b12\n  t23 += v * b13\n  t24 += v * b14\n  t25 += v * b15\n  v = a[11]\n  t11 += v * b0\n  t12 += v * b1\n  t13 += v * b2\n  t14 += v * b3\n  t15 += v * b4\n  t16 += v * b5\n  t17 += v * b6\n  t18 += v * b7\n  t19 += v * b8\n  t20 += v * b9\n  t21 += v * b10\n  t22 += v * b11\n  t23 += v * b12\n  t24 += v * b13\n  t25 += v * b14\n  t26 += v * b15\n  v = a[12]\n  t12 += v * b0\n  t13 += v * b1\n  t14 += v * b2\n  t15 += v * b3\n  t16 += v * b4\n  t17 += v * b5\n  t18 += v * b6\n  t19 += v * b7\n  t20 += v * b8\n  t21 += v * b9\n  t22 += v * b10\n  t23 += v * b11\n  t24 += v * b12\n  t25 += v * b13\n  t26 += v * b14\n  t27 += v * b15\n  v = a[13]\n  t13 += v * b0\n  t14 += v * b1\n  t15 += v * b2\n  t16 += v * b3\n  t17 += v * b4\n  t18 += v * b5\n  t19 += v * b6\n  t20 += v * b7\n  t21 += v * b8\n  t22 += v * b9\n  t23 += v * b10\n  t24 += v * b11\n  t25 += v * b12\n  t26 += v * b13\n  t27 += v * b14\n  t28 += v * b15\n  v = a[14]\n  t14 += v * b0\n  t15 += v * b1\n  t16 += v * b2\n  t17 += v * b3\n  t18 += v * b4\n  t19 += v * b5\n  t20 += v * b6\n  t21 += v * b7\n  t22 += v * b8\n  t23 += v * b9\n  t24 += v * b10\n  t25 += v * b11\n  t26 += v * b12\n  t27 += v * b13\n  t28 += v * b14\n  t29 += v * b15\n  v = a[15]\n  t15 += v * b0\n  t16 += v * b1\n  t17 += v * b2\n  t18 += v * b3\n  t19 += v * b4\n  t20 += v * b5\n  t21 += v * b6\n  t22 += v * b7\n  t23 += v * b8\n  t24 += v * b9\n  t25 += v * b10\n  t26 += v * b11\n  t27 += v * b12\n  t28 += v * b13\n  t29 += v * b14\n  t30 += v * b15\n  t0 += 38 * t16\n  t1 += 38 * t17\n  t2 += 38 * t18\n  t3 += 38 * t19\n  t4 += 38 * t20\n  t5 += 38 * t21\n  t6 += 38 * t22\n  t7 += 38 * t23\n  t8 += 38 * t24\n  t9 += 38 * t25\n  t10 += 38 * t26\n  t11 += 38 * t27\n  t12 += 38 * t28\n  t13 += 38 * t29\n  t14 += 38 * t30\n  // t15 left as is\n  // first car\n  c = 1\n  v = t0 + c + 65535\n  c = Math.floor(v / 65536)\n  t0 = v - c * 65536\n  v = t1 + c + 65535\n  c = Math.floor(v / 65536)\n  t1 = v - c * 65536\n  v = t2 + c + 65535\n  c = Math.floor(v / 65536)\n  t2 = v - c * 65536\n  v = t3 + c + 65535\n  c = Math.floor(v / 65536)\n  t3 = v - c * 65536\n  v = t4 + c + 65535\n  c = Math.floor(v / 65536)\n  t4 = v - c * 65536\n  v = t5 + c + 65535\n  c = Math.floor(v / 65536)\n  t5 = v - c * 65536\n  v = t6 + c + 65535\n  c = Math.floor(v / 65536)\n  t6 = v - c * 65536\n  v = t7 + c + 65535\n  c = Math.floor(v / 65536)\n  t7 = v - c * 65536\n  v = t8 + c + 65535\n  c = Math.floor(v / 65536)\n  t8 = v - c * 65536\n  v = t9 + c + 65535\n  c = Math.floor(v / 65536)\n  t9 = v - c * 65536\n  v = t10 + c + 65535\n  c = Math.floor(v / 65536)\n  t10 = v - c * 65536\n  v = t11 + c + 65535\n  c = Math.floor(v / 65536)\n  t11 = v - c * 65536\n  v = t12 + c + 65535\n  c = Math.floor(v / 65536)\n  t12 = v - c * 65536\n  v = t13 + c + 65535\n  c = Math.floor(v / 65536)\n  t13 = v - c * 65536\n  v = t14 + c + 65535\n  c = Math.floor(v / 65536)\n  t14 = v - c * 65536\n  v = t15 + c + 65535\n  c = Math.floor(v / 65536)\n  t15 = v - c * 65536\n  t0 += c - 1 + 37 * (c - 1)\n  // second car\n  c = 1\n  v = t0 + c + 65535\n  c = Math.floor(v / 65536)\n  t0 = v - c * 65536\n  v = t1 + c + 65535\n  c = Math.floor(v / 65536)\n  t1 = v - c * 65536\n  v = t2 + c + 65535\n  c = Math.floor(v / 65536)\n  t2 = v - c * 65536\n  v = t3 + c + 65535\n  c = Math.floor(v / 65536)\n  t3 = v - c * 65536\n  v = t4 + c + 65535\n  c = Math.floor(v / 65536)\n  t4 = v - c * 65536\n  v = t5 + c + 65535\n  c = Math.floor(v / 65536)\n  t5 = v - c * 65536\n  v = t6 + c + 65535\n  c = Math.floor(v / 65536)\n  t6 = v - c * 65536\n  v = t7 + c + 65535\n  c = Math.floor(v / 65536)\n  t7 = v - c * 65536\n  v = t8 + c + 65535\n  c = Math.floor(v / 65536)\n  t8 = v - c * 65536\n  v = t9 + c + 65535\n  c = Math.floor(v / 65536)\n  t9 = v - c * 65536\n  v = t10 + c + 65535\n  c = Math.floor(v / 65536)\n  t10 = v - c * 65536\n  v = t11 + c + 65535\n  c = Math.floor(v / 65536)\n  t11 = v - c * 65536\n  v = t12 + c + 65535\n  c = Math.floor(v / 65536)\n  t12 = v - c * 65536\n  v = t13 + c + 65535\n  c = Math.floor(v / 65536)\n  t13 = v - c * 65536\n  v = t14 + c + 65535\n  c = Math.floor(v / 65536)\n  t14 = v - c * 65536\n  v = t15 + c + 65535\n  c = Math.floor(v / 65536)\n  t15 = v - c * 65536\n  t0 += c - 1 + 37 * (c - 1)\n  o[0] = t0\n  o[1] = t1\n  o[2] = t2\n  o[3] = t3\n  o[4] = t4\n  o[5] = t5\n  o[6] = t6\n  o[7] = t7\n  o[8] = t8\n  o[9] = t9\n  o[10] = t10\n  o[11] = t11\n  o[12] = t12\n  o[13] = t13\n  o[14] = t14\n  o[15] = t15\n}\n\nfunction S(o: any, a: any) {\n  M(o, a, a)\n}\n\nfunction inv25519(o: any, i: any) {\n  let c = gf()\n  let a\n  for (a = 0; a < 16; a++) {\n    c[a] = i[a]\n  }\n  for (a = 253; a >= 0; a--) {\n    S(c, c)\n    if (a !== 2 && a !== 4) {\n      M(c, c, i)\n    }\n  }\n  for (a = 0; a < 16; a++) {\n    o[a] = c[a]\n  }\n}\n\nfunction pack25519(o: any, n: any) {\n  let i, j, b\n  let m = gf(), t = gf()\n  for (i = 0; i < 16; i++) {\n    t[i] = n[i]\n  }\n  car25519(t)\n  car25519(t)\n  car25519(t)\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i - 1] >> 16) & 1)\n      m[i - 1] &= 0xffff\n    }\n    m[15] = t[15] - 0x7fff - ((m[14] >> 16) & 1)\n    b = (m[15] >> 16) & 1\n    m[14] &= 0xffff\n    sel25519(t, m, 1 - b)\n  }\n  for (i = 0; i < 16; i++) {\n    o[2 * i] = t[i] & 0xff\n    o[2 * i + 1] = t[i] >> 8\n  }\n}\n\nfunction car25519(o: any) {\n  let i, v, c = 1\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535\n    c = Math.floor(v / 65536)\n    o[i] = v - c * 65536\n  }\n  o[0] += c - 1 + 37 * (c - 1)\n}\n\n","import { sign } from 'jsonwebtoken'\nimport { getEd25519Sign, toBuffer } from './sign'\nimport { Keystore } from '../types'\nimport { v4 } from 'uuid'\nexport class KeystoreAuth {\n  keystore?: Keystore\n\n  constructor(keystore?: Keystore) {\n    this.keystore = keystore\n  }\n\n  signToken(signatrue: string, requestID: string): string {\n    const { client_id, session_id, private_key, scope } = this.keystore!\n    let issuedAt = Math.floor(Date.now() / 1000)\n    if (!requestID) requestID = v4()\n    let payload = {\n      uid: client_id,\n      sid: session_id,\n      iat: issuedAt,\n      exp: issuedAt + 3600,\n      jti: requestID,\n      sig: signatrue,\n      scp: scope || 'FULL',\n    }\n    let _privateKey = toBuffer(private_key, 'base64')\n    return _privateKey.length === 64 ? getEd25519Sign(payload, _privateKey) : sign(payload, private_key, { algorithm: 'RS512' })\n  }\n}","import { SHA3 } from 'sha3'\n\nexport const delay = (n = 500) => new Promise<void>(resolve => {\n  setTimeout(() => {\n    resolve()\n  }, n)\n})\n\nexport function toBuffer(content: any, encoding: any = 'utf8') {\n  if (typeof content === 'object') {\n    content = JSON.stringify(content)\n  }\n  return Buffer.from(content, encoding)\n}\n\nexport const hashMember = (ids: string[]) =>\n  newHash(ids.sort((a, b) => a > b ? 1 : -1).join(''))\n\n\nexport const newHash = (str: string) => new SHA3(256).update(str).digest('hex')\n\nexport const safeBase64 = (msg: string) =>\n  msg.replaceAll('+', '-').replaceAll('/', '_').replace(/=+$/, '')\n","// @ts-ignore\nimport axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios'\nimport { KeystoreAuth } from '../mixin/keystore'\nimport { signRequest } from '../mixin/sign'\nimport { delay } from '../mixin/tools'\nimport { v4 as uuid } from 'uuid'\nimport { Keystore } from '../types'\n\nconst hostURL = ['https://mixin-api.zeromesh.net', 'https://api.mixin.one']\n\nexport const request = (keystore?: Keystore, token = ''): AxiosInstance => {\n  const ins = axios.create({\n    baseURL: hostURL[0],\n    headers: { 'Content-Type': 'application/json;charset=UTF-8' },\n    timeout: 3000,\n  })\n\n  let k: KeystoreAuth\n  if (keystore) k = new KeystoreAuth(keystore)\n\n  ins.interceptors.request.use((config: AxiosRequestConfig) => {\n    const { method, data } = config\n    const uri = ins.getUri(config)\n    const requestID = uuid()\n    config.headers['x-request-id'] = requestID\n    let jwtToken = ''\n    if (token) jwtToken = token\n    else if (k) jwtToken = k.signToken(signRequest(method!, uri, data), requestID)\n    config.headers.Authorization = 'Bearer ' + jwtToken\n    return config\n  })\n\n  ins.interceptors.response.use((res: AxiosResponse) => {\n    let { data, error } = res.data\n    if (error) {\n      error.request_id = res.headers['x-request-id']\n      return error\n    }\n    return data\n  }, async (e: any) => {\n    if (['ETIMEDOUT', 'ECONNABORTED'].includes(e.code)) {\n      ins.defaults.baseURL = e.config.baseURL = e.config.baseURL === hostURL[0] ? hostURL[1] : hostURL[0]\n    }\n    await delay()\n    return ins(e.config)\n  })\n  return ins\n}\n\nexport const mixinRequest = request()\n","import { AxiosInstance } from 'axios'\nimport { UserClientRequest, User, UserRelationship } from '../types/user'\nimport forge from 'node-forge'\nimport { request } from '../services/request'\n\nexport class UserClient implements UserClientRequest {\n  request!: AxiosInstance\n  userMe(): Promise<User> {\n    return this.request.get(`/me`)\n  }\n  readUser(userIdOrIdentityNumber: string): Promise<User> {\n    return this.request.get(`/users/${userIdOrIdentityNumber}`)\n  }\n  readBlockUsers(): Promise<User[]> {\n    return this.request.get(`/blocking_users`)\n  }\n  readUsers(userIDs: string[]): Promise<User[]> {\n    return this.request.post(`/users/fetch`, userIDs)\n  }\n  readFriends(): Promise<User[]> {\n    return this.request.get(`/friends`)\n  }\n  searchUser(identityNumberOrPhone: string): Promise<User> {\n    return this.request.get(`/search/${identityNumberOrPhone}`)\n  }\n  async createUser(full_name: string, session_secret?: string): Promise<User> {\n    if (session_secret) return this.request.post(`/users`, { full_name, session_secret })\n    const { publicKey, privateKey } = forge.pki.ed25519.generateKeyPair()\n    const params = { full_name, session_secret: Buffer.from(publicKey).toString('base64') }\n    const u: User = await this.request.post(`/users`, params)\n    u.publick_key = publicKey.toString('base64')\n    u.private_key = privateKey.toString('base64')\n    return u\n  }\n  modifyProfile(full_name: string, avatar_base64: string): Promise<User> {\n    return this.request.post(`/me`, { full_name, avatar_base64 })\n  }\n  modifyRelationships(relationship: UserRelationship): Promise<User> {\n    return this.request.post(`/relationships`, relationship)\n  }\n}\n\nexport const userMe = (token: string): Promise<User> =>\n  request(undefined, token).get('/me')\n\nexport const readFriends = (token: string): Promise<User[]> =>\n  request(undefined, token).get(`/friends`)\n\nexport const readBlockUsers = (token: string): Promise<User[]> =>\n  request(undefined, token).get(`/blocking_users`)\n","import { Keystore, Address, AddressCreateParams, AddressClientRequest } from '../types'\nimport { AxiosInstance } from 'axios'\nimport { getSignPIN } from '../mixin/sign'\n\nexport class AddressClient implements AddressClientRequest {\n  request!: AxiosInstance\n  keystore!: Keystore\n  createAddress(params: AddressCreateParams, pin?: string): Promise<Address> {\n    params.pin = getSignPIN(this.keystore, pin)\n    return this.request.post('/addresses', params)\n  }\n  readAddress(addressID: string): Promise<Address> {\n    return this.request.get(`/addresses/${addressID}`)\n  }\n  readAddresses(assetID: string): Promise<Address[]> {\n    return this.request.get(`/assets/${assetID}/addresses`)\n  }\n  deleteAddress(addressID: string, pin?: string): Promise<void> {\n    pin = getSignPIN(this.keystore, pin)\n    return this.request.post(`/addresses/${addressID}/delete`, { pin })\n  }\n}\n","import { AxiosInstance } from \"axios\";\nimport { App, AppClientRequest, FavoriteApp, UpdateAppRequest } from \"../types\";\n\n\nexport class AppClient implements AppClientRequest {\n  request!: AxiosInstance\n\n  updateApp(appID: string, params: UpdateAppRequest): Promise<App> {\n    return this.request.post(`/apps/${appID}`, params)\n  }\n\n  readFavoriteApps(userID: string): Promise<FavoriteApp[]> {\n    return this.request.get(`/users/${userID}/apps/favorite`)\n  }\n\n  favoriteApp(appID: string): Promise<FavoriteApp> {\n    return this.request.post(`/apps/${appID}/favorite`)\n  }\n\n  unfavoriteApp(appID: string): Promise<void> {\n    return this.request.post(`/apps/${appID}/unfavorite`)\n  }\n}","import { AxiosInstance } from \"axios\";\nimport { request } from \"../services/request\";\nimport { Asset, AssetClientRequest, ExchangeRate, NetworkTicker } from \"../types\";\n\n\nexport class AssetClient implements AssetClientRequest {\n  request!: AxiosInstance\n\n  readAsset(assetID: string): Promise<Asset> {\n    return this.request.get(`/assets/${assetID}`)\n  }\n\n  readAssets(): Promise<Asset[]> {\n    return this.request.get('/assets')\n  }\n\n  readAssetFee(assetID: string): Promise<number> {\n    return this.request.get(`/assets/${assetID}/fee`)\n  }\n\n  readExchangeRates(): Promise<ExchangeRate[]> {\n    return this.request.get('/fiats')\n  }\n\n  readAssetNetworkTicker(asset_id: string, offset?: string): Promise<NetworkTicker> {\n    return this.request.get(`/network/ticker`, { params: { offset, asset_id } })\n  }\n}\n\nexport const readAssets = (token: string): Promise<Asset[]> =>\n  request(undefined, token).get('/assets')\n\nexport const readAsset = (token: string, assetID: string): Promise<Asset> =>\n  request(undefined, token).get(`/assets/${assetID}`)\n\n\n","import axios, { AxiosInstance, AxiosResponse } from \"axios\";\nimport { Attachment, AttachmentClientRequest } from \"../types/attachment\";\n\n\nexport class AttachmentClient implements AttachmentClientRequest {\n  request!: AxiosInstance\n  createAttachment(): Promise<Attachment> {\n    return this.request.post(`/attachments`)\n  }\n  showAttachment(attachment_id: string): Promise<Attachment> {\n    return this.request.get(`/attachments/${attachment_id}`)\n  }\n  async uploadFile(file: File): Promise<Attachment> {\n    const { view_url, upload_url, attachment_id } = await this.createAttachment()\n    await uploadAttachmentTo(upload_url!, file)\n    return { view_url, attachment_id }\n  }\n}\n\n\nexport async function uploadAttachmentTo(uploadURL: string, file: File): Promise<AxiosResponse> {\n  return axios.create()({\n    url: uploadURL,\n    method: \"PUT\",\n    data: file,\n    headers: {\n      'x-amz-acl': 'public-read',\n      'Content-Type': 'application/octet-stream',\n    },\n    maxContentLength: 2147483648,\n  })\n}\n\nexport function uploadAttachment(attachment: Attachment, file: File): Promise<AxiosResponse> {\n  if (!attachment.upload_url) return Promise.reject(new Error(\"No upload URL\"))\n  return uploadAttachmentTo(attachment.upload_url!, file)\n}\n","import { AxiosInstance } from \"axios\";\nimport { request } from \"../services/request\";\nimport {\n  ConversationClientRequest, ConversationCreateParmas, Conversation, ConversationUpdateParams, Participant, ConversationAction, Keystore\n} from '../types'\n\nexport class ConversationClient implements ConversationClientRequest {\n  keystore!: Keystore\n  request!: AxiosInstance\n  uniqueConversationID!: (userID: string, recipientID: string) => string\n\n  createConversation(params: ConversationCreateParmas): Promise<Conversation> {\n    return this.request.post('/conversations', params)\n  }\n  updateConversation(conversationID: string, params: ConversationUpdateParams): Promise<Conversation> {\n    return this.request.put(`/conversations/${conversationID}`, params)\n  }\n  createContactConversation(userID: string): Promise<Conversation> {\n    return this.createConversation({\n      category: 'CONTACT',\n      conversation_id: this.uniqueConversationID(this.keystore.client_id, userID),\n      participants: [{ user_id: userID }]\n    })\n  }\n  createGroupConversation(conversationID: string, name: string, participant: Participant[]): Promise<Conversation> {\n    return this.createConversation({\n      category: 'GROUP',\n      conversation_id: conversationID,\n      name,\n      participants: participant\n    })\n  }\n  readConversation(conversationID: string): Promise<Conversation> {\n    return this.request.get(`/conversations/${conversationID}`)\n  }\n  managerConversation(conversationID: string, action: ConversationAction, participant: Participant[]): Promise<Conversation> {\n    return this.request.post(`/conversations/${conversationID}/participants/${action}`, participant)\n  }\n  addParticipants(conversationID: string, userIDs: string[]): Promise<Conversation> {\n    var participants: Participant[] = userIDs.map(userID => ({ user_id: userID }))\n    return this.managerConversation(conversationID, 'ADD', participants)\n  }\n  removeParticipants(conversationID: string, userIDs: string[]): Promise<Conversation> {\n    var participants: Participant[] = userIDs.map(userID => ({ user_id: userID }))\n    return this.managerConversation(conversationID, 'REMOVE', participants)\n  }\n  adminParticipants(conversationID: string, userIDs: string[]): Promise<Conversation> {\n    var participants: Participant[] = userIDs.map(userID => ({ user_id: userID, role: 'ADMIN' }))\n    return this.managerConversation(conversationID, 'ROLE', participants)\n  }\n  rotateConversation(conversationID: string): Promise<Conversation> {\n    return this.request.post(`/conversations/${conversationID}/rotate`)\n  }\n}\n\nexport const readConversation = (token: string, conversation_id: string): Promise<Conversation> =>\n  request(undefined, token).get(`conversations/${conversation_id}`)\n","import { AxiosInstance } from \"axios\"\nimport {\n  AcknowledgementRequest, Keystore, MessageCategory, MessageClientRequest, MessageRequest, MessageView,\n  ImageMessage, DataMessage, StickerMessage, ContactMesage, AppCardMessage, AudioMessage, LiveMessage, LocationMessage, VideoMessage, AppButtonMessage, RecallMessage,\n} from \"../types\"\n\nexport class MessageClient implements MessageClientRequest {\n  keystore!: Keystore\n  request!: AxiosInstance\n  newUUID!: () => string\n  uniqueConversationID!: (userID: string, recipientID: string) => string\n  sendAcknowledgements(messages: AcknowledgementRequest[]): Promise<void> {\n    return this.request.post('/acknowledgements', messages)\n  }\n  sendAcknowledgement(message: AcknowledgementRequest): Promise<void> {\n    return this.sendAcknowledgements([message])\n  }\n  sendMessage(message: MessageRequest): Promise<MessageView> {\n    return this.request.post('/messages', message)\n  }\n  sendMessages(messages: MessageRequest[]): Promise<undefined> {\n    return this.request.post('/messages', messages)\n  }\n\n  sendMsg(recipient_id: string, category: MessageCategory, data: any): Promise<MessageView> {\n    if (typeof data === 'object') data = JSON.stringify(data)\n    return this.sendMessage({\n      category, recipient_id,\n      conversation_id: this.uniqueConversationID(this.keystore.client_id, recipient_id),\n      message_id: this.newUUID(),\n      data: Buffer.from(data).toString('base64'),\n    })\n  }\n\n  sendMessageText(userID: string, text: string): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_TEXT\", text)\n  }\n  sendMessagePost(userID: string, text: string): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_POST\", text)\n  }\n  sendTextMsg(userID: string, text: string): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_TEXT\", text)\n  }\n  sendPostMsg(userID: string, text: string): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_POST\", text)\n  }\n  sendImageMsg(userID: string, image: ImageMessage): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_IMAGE\", image)\n  }\n  sendDataMsg(userID: string, data: DataMessage): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_DATA\", data)\n  }\n  sendStickerMsg(userID: string, sticker: StickerMessage): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_STICKER\", sticker)\n  }\n  sendContactMsg(userID: string, contact: ContactMesage): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_CONTACT\", contact)\n  }\n  sendAppCardMsg(userID: string, appCard: AppCardMessage): Promise<MessageView> {\n    return this.sendMsg(userID, \"APP_CARD\", appCard)\n  }\n  sendAudioMsg(userID: string, audio: AudioMessage): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_AUDIO\", audio)\n  }\n  sendLiveMsg(userID: string, live: LiveMessage): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_LIVE\", live)\n  }\n  sendVideoMsg(userID: string, video: VideoMessage): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_VIDEO\", video)\n  }\n  sendLocationMsg(userID: string, location: LocationMessage): Promise<MessageView> {\n    return this.sendMsg(userID, \"PLAIN_LOCATION\", location)\n  }\n  sendAppButtonMsg(userID: string, appButton: AppButtonMessage[]): Promise<MessageView> {\n    return this.sendMsg(userID, \"APP_BUTTON_GROUP\", appButton)\n  }\n  sendRecallMsg(userID: string, message: RecallMessage): Promise<MessageView> {\n    return this.sendMsg(userID, \"MESSAGE_RECALL\", message)\n  }\n}","\nimport { Aggregated, Input, Output } from '../types'\nimport { BigNumber } from 'bignumber.js'\nconst aggregatedSignaturePrefix = 0xFF01\nconst empty = Buffer.from([0x00, 0x00])\n\nexport const magic = Buffer.from([0x77, 0x77])\nexport const maxEcodingInt = 0xFFFF\n\nexport const TxVersion = 0x02\n\nexport const OperatorSum = 0xfe\nexport const OperatorCmp = 0xff\n\nexport class Encoder {\n  buf: Buffer\n  constructor(buf: Buffer) {\n    this.buf = buf\n  }\n  write(buf: Buffer) {\n    this.buf = Buffer.concat([this.buf, buf])\n  }\n  writeInt(i: number) {\n    if (i > maxEcodingInt) {\n      throw new Error('int overflow')\n    }\n    let buf = Buffer.alloc(2)\n    buf.writeUInt16BE(i)\n    this.write(buf)\n  }\n\n  wirteUint64(i: bigint) {\n    let buf = Buffer.alloc(8)\n    buf.writeBigUInt64BE(i)\n    this.write(buf)\n  }\n\n  wirteUint16(i: number) {\n    let buf = Buffer.alloc(2)\n    buf.writeUInt16BE(i)\n    this.write(buf)\n  }\n\n  writeInteger(i: number) {\n    const b = getIntBytes(i)\n    this.writeInt(b.length)\n    this.write(Buffer.from(b))\n  }\n\n  writeSlice(str: Buffer) {\n    const l = str.length\n    if (l > 128) throw new Error('slice too long')\n    this.write(Buffer.from([l]))\n    this.write(str)\n  }\n\n  encodeInput(i: Input) {\n    this.write(Buffer.from(i.hash!, 'hex'))\n    this.writeInt(i.index!)\n\n    if (!i.genesis) i.genesis = \"\"\n    this.writeInt(i.genesis.length)\n    this.write(Buffer.from(i.genesis))\n    let d = i.deposit\n    if (typeof d === 'undefined') {\n      this.write(empty)\n    } else {\n      // TODO... to test...\n      this.write(magic)\n      this.write(Buffer.from(d.chain, 'hex'))\n\n      const asset = Buffer.from(d.asset)\n      this.writeInt(asset.byteLength)\n      this.write(asset)\n\n      const tx = Buffer.from(d.transaction)\n      this.writeInt(tx.byteLength)\n      this.write(tx)\n\n      this.wirteUint64(d.index)\n      this.writeInteger(d.amount)\n    }\n    let m = i.mint\n    if (typeof m === 'undefined') {\n      this.write(empty)\n    } else {\n      this.write(magic)\n      if (!m.group) m.group = \"\"\n      this.writeInt(m.group.length)\n      this.write(Buffer.from(m.group))\n\n      this.wirteUint64(m.batch)\n      this.writeInteger(m.amount)\n    }\n\n  }\n\n  encodeOutput(o: Output) {\n    if (!o.type) o.type = 0\n    this.write(Buffer.from([0x00, o.type]))\n    this.writeInteger(new BigNumber(1e8).times(o.amount!).toNumber())\n    this.writeInt(o.keys!.length)\n\n    o.keys!.forEach(k => this.write(Buffer.from(k, 'hex')))\n\n    this.write(Buffer.from(o.mask!, 'hex'))\n\n    const s = Buffer.from(o.script!, 'hex')\n    this.writeInt(s.byteLength)\n    this.write(s)\n\n    const w = o.withdrawal\n    if (typeof w === 'undefined') {\n      this.write(empty)\n    } else {\n      // TODO... not check...\n      this.write(magic)\n      this.write(Buffer.from(w.chain, 'hex'))\n\n      const asset = Buffer.from(w.asset)\n      this.writeInt(asset.byteLength)\n      this.write(asset)\n\n      if (!w.address) w.address = \"\"\n\n      const addr = Buffer.from(w.address)\n      this.writeInt(addr.byteLength)\n      this.write(addr)\n\n      const tag = Buffer.from(w.tag)\n      this.writeInt(tag.byteLength)\n      this.write(tag)\n    }\n  }\n  encodeAggregatedSignature(js: Aggregated) {\n    this.writeInt(maxEcodingInt)\n    this.writeInt(aggregatedSignaturePrefix)\n    this.write(Buffer.from(js.signature, 'hex'))\n\n    if (js.signers.length === 0) {\n      this.write(Buffer.from([0x00]))\n      this.writeInt(0)\n      return\n    }\n\n    js.signers.forEach((m, i) => {\n      if (i > 0 && m <= js.signers[i - 1]) {\n        throw new Error('signers not sorted')\n      }\n      if (m > maxEcodingInt) {\n        throw new Error('signer overflow')\n      }\n    })\n\n    const max = js.signers[js.signers.length - 1]\n\n    if (((max / 8 | 0) + 1 | 0) > js.signature.length * 2) {\n      // TODO... not check...\n      this.write(Buffer.from([0x01]))\n      this.writeInt(js.signature.length)\n      js.signers.forEach(m => this.writeInt(m))\n      return\n    }\n\n    const masks = Buffer.alloc(((max / 8 | 0) + 1) | 0)\n    js.signers.forEach(m => masks[(m / 8) | 0] ^= 1 << ((m % 8) | 0))\n    this.write(Buffer.from([0x00]))\n    this.writeInt(masks.length)\n    this.write(masks)\n  }\n\n  encodeSignature(sm: { [key: number]: string }) {\n    const ss = Object.keys(sm)\n      .map((j, i) => ({ index: j, sig: sm[i] }))\n      .sort((a, b) => Number(a.index) - Number(b.index))\n\n    this.writeInt(ss.length)\n    ss.forEach(s => {\n      this.wirteUint16(Number(s.index))\n      this.write(Buffer.from(s.sig, 'hex'))\n    })\n  }\n}\n\n\n\nfunction getIntBytes(x: number) {\n  var bytes = []\n  do {\n    if (x === 0) break\n    bytes.unshift(x & (255))\n    x = x / (2 ** 8) | 0\n  } while (1)\n  return bytes\n}","import { GhostKeys, Transaction } from '../types'\nimport { Encoder, magic, maxEcodingInt, OperatorCmp, OperatorSum } from './encoder'\n\n\n\n\nexport function dumpTransaction(signed: Transaction): string {\n  let enc = new Encoder(magic)\n  enc.write(Buffer.from([0x00, signed.version!]))\n  enc.write(Buffer.from(signed.asset, 'hex'))\n\n  const il = signed.inputs!.length\n  enc.writeInt(il)\n  signed.inputs!.forEach(i => enc.encodeInput(i))\n\n  const ol = signed.outputs!.length\n  enc.writeInt(ol)\n  signed.outputs!.forEach(o => enc.encodeOutput(o))\n\n  const e = Buffer.from(signed.extra!, 'base64')\n  enc.writeInt(e.byteLength)\n  enc.write(e)\n\n  if (signed.aggregated) {\n    enc.encodeAggregatedSignature(signed.aggregated)\n  } else {\n    const sl = signed.signatures ? Object.keys(signed.signatures).length : 0\n    if (sl == maxEcodingInt) throw new Error('signatures overflow')\n    enc.writeInt(sl)\n    if (sl > 0) {\n      enc.encodeSignature(signed.signatures!)\n    }\n  }\n  return enc.buf.toString('hex')\n}\n\n\nexport function DumpOutputFromGhostKey(gi: GhostKeys, amount: string, threshold: number) {\n  const { mask, keys } = gi\n  return {\n    mask, keys, amount: Number(amount).toFixed(8),\n    script: Buffer.from([OperatorCmp, OperatorSum, threshold]).toString('hex')\n  }\n}","import { AxiosInstance } from \"axios\"\nimport { getSignPIN } from \"../mixin/sign\"\nimport { BigNumber } from 'bignumber.js'\nimport {\n  Keystore,\n  MultisigClientRequest, MultisigRequest, MultisigUTXO,\n  MultisigAction, RawTransactionInput, Transaction, GhostInput, GhostKeys,\n} from \"../types\"\nimport { DumpOutputFromGhostKey, dumpTransaction } from '../mixin/dump_transacion'\nimport { hashMember, newHash } from '../mixin/tools'\nimport { TxVersion } from '../mixin/encoder'\n\nexport class MultisigsClient implements MultisigClientRequest {\n  keystore!: Keystore\n  request!: AxiosInstance\n  readMultisigs(offset: string, limit: number): Promise<MultisigUTXO[]> {\n    return this.request.get(`/multisigs`, { params: { offset, limit } })\n  }\n  readMultisigOutputs(members: string[], threshold: number, offset: string, limit: number): Promise<MultisigUTXO[]> {\n    if (members.length > 0 && threshold < 1 || threshold > members.length) return Promise.reject(new Error(\"Invalid threshold or members\"))\n    const params: any = { threshold: Number(threshold), offset, limit }\n    params.members = hashMember(members)\n    return this.request.get(`/multisigs/outputs`, { params })\n  }\n  createMultisig(action: MultisigAction, raw: string): Promise<MultisigRequest> {\n    return this.request.post(`/multisigs/requests`, { action, raw })\n  }\n  signMultisig(request_id: string, pin?: string): Promise<MultisigRequest> {\n    pin = getSignPIN(this.keystore, pin)\n    return this.request.post(`/multisigs/requests/${request_id}/sign`, { pin })\n  }\n  cancelMultisig(request_id: string): Promise<void> {\n    return this.request.post(`/multisigs/requests/${request_id}/cancel`)\n  }\n  unlockMultisig(request_id: string, pin: string): Promise<void> {\n    pin = getSignPIN(this.keystore, pin)\n    return this.request.post(`/multisigs/requests/${request_id}/unlock`, { pin })\n  }\n  readGhostKeys(receivers: string[], index: number): Promise<GhostKeys> {\n    return this.request.post(\"/outputs\", { receivers, index, hint: \"\" })\n  }\n  batchReadGhostKeys(inputs: GhostInput[]): Promise<GhostKeys[]> {\n    return this.request.post(`/outputs`, inputs)\n  }\n  async makeMultisignTransaction(txInput: RawTransactionInput): Promise<string> {\n    // validate ...\n    let { inputs, memo, outputs } = txInput\n    const tx: Transaction = {\n      version: TxVersion,\n      asset: newHash(inputs[0].asset_id),\n      extra: Buffer.from(memo).toString('base64'),\n      inputs: [],\n      outputs: []\n    }\n    // add input\n    for (const input of inputs) {\n      tx.inputs!.push({\n        hash: input.transaction_hash,\n        index: input.output_index\n      })\n    }\n    let change = inputs.reduce((sum, input) => sum.plus(input.amount), new BigNumber(0))\n    for (const output of outputs) change = change.minus(output.amount)\n    if (change.isGreaterThan(0)) outputs.push({ receivers: inputs[0].members, threshold: inputs[0].threshold, amount: change.toString() })\n    const ghostInputs: GhostInput[] = []\n    outputs.forEach((output, idx) => ghostInputs.push({ receivers: output.receivers, index: idx, hint: txInput.hint }))\n    // get ghost keys\n    let ghosts = await this.batchReadGhostKeys(ghostInputs)\n    outputs.forEach((output, idx) =>\n      tx.outputs!.push(DumpOutputFromGhostKey(ghosts[idx], output.amount, output.threshold))\n    )\n    return dumpTransaction(tx)\n  }\n}\n","import { AxiosInstance } from \"axios\";\nimport { getSignPIN } from \"../mixin/sign\";\nimport { Keystore } from \"../types\";\nimport { PINClientRequest, Turn } from \"../types/pin\";\n\n\nexport class PINClient implements PINClientRequest {\n  keystore!: Keystore\n  request!: AxiosInstance\n  verifyPin(pin?: string): Promise<void> {\n    pin = getSignPIN(this.keystore, pin)\n    return this.request.post(\"/pin/verify\", { pin })\n  }\n  modifyPin(pin: string, old_pin?: string): Promise<void> {\n    pin = getSignPIN(this.keystore, pin)\n    if (old_pin) old_pin = getSignPIN(this.keystore, old_pin)\n    return this.request.post(\"/pin/update\", { old_pin, pin })\n  }\n  readTurnServers(): Promise<Turn[]> {\n    return this.request.get(\"/turn\")\n  }\n}","import { AxiosInstance } from \"axios\";\nimport { request } from \"../services/request\";\nimport { Snapshot, SnapshotClientRequest, SnapshotQuery } from \"../types\";\n\n\nexport class SnapshotClient implements SnapshotClientRequest {\n  request!: AxiosInstance\n\n  readSnapshots(params: SnapshotQuery): Promise<Snapshot[]> {\n    return this.request.get(`/snapshots`, { params })\n  }\n  readNetworkSnapshots(params: SnapshotQuery): Promise<Snapshot[]> {\n    return this.request.get(`/network/snapshots`, { params })\n  }\n  readSnapshot(snapshot_id: string): Promise<Snapshot> {\n    return this.request.get(`/snapshots/${snapshot_id}`)\n  }\n  readNetworkSnapshot(snapshot_id: string): Promise<Snapshot> {\n    return this.request.get(`/network/snapshots/${snapshot_id}`)\n  }\n}\n\nexport const readSnapshots = (token: string, params: SnapshotQuery): Promise<Snapshot[]> =>\n  request(undefined, token).get(\"/snapshots\", { params })\n\nexport const readSnapshot = (token: string, snapshot_id: string): Promise<Snapshot> =>\n  request(undefined, token).get(`/snapshots/${snapshot_id}`)\n","import { AxiosInstance } from \"axios\"\nimport { getSignPIN } from \"../mixin/sign\"\nimport { Keystore, Snapshot, TransactionInput } from \"../types\"\nimport { Payment, RawTransaction, TransferClientRequest, TransferInput, WithdrawInput } from \"../types/transfer\"\n\n\nexport class TransferClient implements TransferClientRequest {\n  keystore!: Keystore\n  request!: AxiosInstance\n\n  verifyPayment(params: TransferInput | TransactionInput): Promise<Payment> {\n    return this.request.post(\"/payments\", params)\n  }\n  transfer(params: TransferInput, pin?: string): Promise<Snapshot> {\n    params.pin = getSignPIN(this.keystore, pin)\n    return this.request.post(\"/transfers\", params)\n  }\n  readTransfer(trace_id: string): Promise<Snapshot> {\n    return this.request.get(`/transfers/trace/${trace_id}`)\n  }\n  transaction(params: TransactionInput, pin?: string): Promise<RawTransaction> {\n    params.pin = getSignPIN(this.keystore, pin)\n    return this.request.post(\"/transactions\", params)\n  }\n  withdraw(params: WithdrawInput, pin?: string): Promise<Snapshot> {\n    params.pin = getSignPIN(this.keystore, pin)\n    return this.request.post(\"/withdrawals\", params)\n  }\n}\n","\n\nimport { parse as UUIDParse } from 'uuid'\nimport { newHash, safeBase64 } from './tools'\nimport { Encoder } from './encoder'\nconst Prefix = \"NFO\"\nconst Version = 0x00\n\nconst DefaultChain = \"43d61dcd-e413-450d-80b8-101d5e903357\"\nconst DefaultClass = \"3c8c161a18ae2c8b14fda1216fff7da88c419b5d\"\n\nexport function buildMintCollectibleMemo(collection_id: string, token_id: string, content: string): string {\n  const encoder = new Encoder(Buffer.from(Prefix, 'utf8'))\n  encoder.write(Buffer.from([Version]))\n\n  encoder.write(Buffer.from([1]))\n  encoder.wirteUint64(BigInt(1))\n  encoder.write(UUIDParse(DefaultChain) as Buffer)\n\n  encoder.writeSlice(Buffer.from(DefaultClass, 'hex'))\n  encoder.writeSlice(Buffer.from(UUIDParse(collection_id) as Buffer))\n  encoder.writeSlice(Buffer.from(UUIDParse(token_id) as Buffer))\n\n  encoder.writeSlice(Buffer.from(newHash(content), 'hex'))\n  return safeBase64(encoder.buf.toString('base64'))\n}","import { AxiosInstance } from \"axios\"\nimport {\n  Keystore, TransactionInput, GhostInput, GhostKeys,\n  CollectiblesClientRequest, CollectiblesParams, CollectibleToken, RawCollectibleInput, Transaction, CollectibleAction, CollectibleRequest, CollectibleOutput,\n} from \"../types\"\nimport { DumpOutputFromGhostKey, dumpTransaction } from '../mixin/dump_transacion'\nimport { hashMember } from '../mixin/tools'\nimport { TxVersion } from '../mixin/encoder'\nimport { getSignPIN } from '../mixin/sign'\nimport { buildMintCollectibleMemo } from '../mixin/nfo'\n\nconst MintAssetID = \"c94ac88f-4671-3976-b60a-09064f1811e8\"\nconst MintMinimumCost = \"0.001\"\nconst GroupMembers = [\n  \"4b188942-9fb0-4b99-b4be-e741a06d1ebf\",\n  \"dd655520-c919-4349-822f-af92fabdbdf4\",\n  \"047061e6-496d-4c35-b06b-b0424a8a400d\",\n  \"acf65344-c778-41ee-bacb-eb546bacfb9f\",\n  \"a51006d0-146b-4b32-a2ce-7defbf0d7735\",\n  \"cf4abd9c-2cfa-4b5a-b1bd-e2b61a83fabd\",\n  \"50115496-7247-4e2c-857b-ec8680756bee\",\n]\nconst GroupThreshold = 5\nexport class CollectiblesClient implements CollectiblesClientRequest {\n  keystore!: Keystore\n  request!: AxiosInstance\n  batchReadGhostKeys!: (inputs: GhostInput[]) => Promise<GhostKeys[]>\n  newMintCollectibleTransferInput(p: CollectiblesParams): TransactionInput {\n    const { trace_id, collection_id, token_id, content } = p\n    if (!trace_id || !collection_id || !token_id || !content) throw new Error(\"Missing parameters\")\n    let input: TransactionInput = {\n      asset_id: MintAssetID,\n      amount: MintMinimumCost,\n      trace_id,\n      memo: buildMintCollectibleMemo(collection_id, token_id, content),\n      opponent_multisig: {\n        receivers: GroupMembers,\n        threshold: GroupThreshold,\n      }\n    }\n    return input\n  }\n  readCollectibleToken(id: string): Promise<CollectibleToken> {\n    return this.request.get(`/collectibles/tokens/` + id)\n  }\n  readCollectibleOutputs(_members: string[], threshold: number, offset: string, limit: number): Promise<CollectibleOutput[]> {\n    const members = hashMember(_members)\n    return this.request.get(`/collectibles/outputs`, { params: { members, threshold, offset, limit } })\n  }\n  async makeCollectibleTransactionRaw(txInput: RawCollectibleInput): Promise<string> {\n    const { token, output, receivers, threshold } = txInput\n    const tx: Transaction = {\n      version: TxVersion,\n      asset: token.mixin_id!,\n      extra: token.nfo!,\n      inputs: [\n        {\n          hash: output.transaction_hash!,\n          index: output.output_index!\n        }\n      ]\n    }\n    const ghostInputs = await this.batchReadGhostKeys([{\n      receivers,\n      index: 0,\n      hint: output.output_id!\n    }])\n    tx.outputs = [DumpOutputFromGhostKey(ghostInputs[0], output.amount!, threshold)]\n    return dumpTransaction(tx)\n  }\n  createCollectibleRequest(action: CollectibleAction, raw: string): Promise<CollectibleRequest> {\n    return this.request.post(`/collectibles/requests`, { action, raw })\n  }\n  signCollectibleRequest(requestId: string, pin?: string): Promise<CollectibleRequest> {\n    pin = getSignPIN(this.keystore, pin)\n    return this.request.post(`/collectibles/requests/${requestId}/sign`, { pin })\n  }\n  cancelCollectibleRequest(requestId: string): Promise<void> {\n    return this.request.post(`/collectibles/requests/${requestId}/cancel`)\n  }\n  unlockCollectibleRequest(requestId: string, pin?: string): Promise<void> {\n    pin = getSignPIN(this.keystore, pin)\n    return this.request.post(`/collectibles/requests/${requestId}/unlock`, { pin })\n  }\n}\n\n","import * as crypto from 'crypto'\nimport { v4 as uuid } from 'uuid'\nimport { AxiosInstance } from 'axios'\nimport { mixinRequest, request } from '../services/request'\nimport { UserClient } from './user'\nimport { AddressClient } from './address'\n\n\nimport {\n  AddressClientRequest, AddressCreateParams, Address,\n  AppClientRequest, UpdateAppRequest, App, FavoriteApp,\n  AssetClientRequest, Asset, ExchangeRate, NetworkTicker,\n  Attachment, AttachmentClientRequest,\n  CollectiblesParams, CollectibleToken, CollectibleAction, CollectibleRequest, CollectibleOutput, RawCollectibleInput,\n  ConversationClientRequest, ConversationCreateParmas, Conversation, ConversationUpdateParams, Participant, ConversationAction,\n  MessageClientRequest, AcknowledgementRequest, MessageRequest, MessageView,\n  ImageMessage, DataMessage, StickerMessage, ContactMesage, AppCardMessage, AudioMessage, LiveMessage, LocationMessage, VideoMessage, AppButtonMessage, RecallMessage,\n  TransactionInput, RawTransactionInput, MultisigClientRequest, MultisigRequest, MultisigUTXO,\n  PINClientRequest, Turn,\n  SnapshotClientRequest, Snapshot, SnapshotQuery,\n  TransferClientRequest, TransferInput, Payment, GhostInput, GhostKeys, WithdrawInput, RawTransaction,\n  UserClientRequest, User, UserRelationship, Keystore,\n} from '../types'\nimport { AppClient } from './app'\nimport { AssetClient } from './asset'\nimport { AttachmentClient } from './attachment'\nimport { ConversationClient } from './conversation'\nimport { MessageClient } from './message'\nimport { MultisigsClient } from './multisigs'\nimport { PINClient } from './pin'\nimport { SnapshotClient } from './snapshot'\nimport { TransferClient } from './transfer'\nimport { CollectiblesClient } from './collectibles'\n\nexport class Client implements\n  AddressClientRequest,\n  AppClientRequest,\n  AssetClientRequest,\n  AttachmentClientRequest,\n  CollectiblesClient,\n  ConversationClientRequest,\n  MessageClientRequest,\n  MultisigClientRequest,\n  PINClientRequest,\n  SnapshotClientRequest,\n  TransferClientRequest,\n  UserClientRequest {\n  request: AxiosInstance\n  keystore: Keystore\n\n  constructor(keystore?: Keystore, token?: string) {\n    if (!keystore && !token) throw new Error('keystore or token required')\n    this.keystore = keystore!\n    this.request = request(keystore, token)\n  }\n\n  // Address...\n  createAddress!: (params: AddressCreateParams, pin?: string) => Promise<Address>\n  readAddress!: (address_id: string) => Promise<Address>\n  readAddresses!: (asset_id: string) => Promise<Address[]>\n  deleteAddress!: (address_id: string, pin?: string) => Promise<void>\n\n  // App...\n  updateApp!: (appID: string, params: UpdateAppRequest) => Promise<App>\n  readFavoriteApps!: (userID: string) => Promise<FavoriteApp[]>\n  favoriteApp!: (appID: string) => Promise<FavoriteApp>\n  unfavoriteApp!: (appID: string) => Promise<void>\n\n  // Asset...\n  readAsset!: (asset_id: string) => Promise<Asset>\n  readAssets!: () => Promise<Asset[]>\n  readAssetFee!: (asset_id: string) => Promise<number>\n  readAssetNetworkTicker!: (asset_id: string, offset?: string) => Promise<NetworkTicker>\n\n  readExchangeRates!: () => Promise<ExchangeRate[]>\n\n  // Attachment...\n  createAttachment!: () => Promise<Attachment>\n  showAttachment!: (attachment_id: string) => Promise<Attachment>\n  uploadFile!: (file: File) => Promise<Attachment>\n\n  // Collectibles...\n  newMintCollectibleTransferInput!: (p: CollectiblesParams) => TransactionInput\n\n  readCollectibleToken!: (id: string) => Promise<CollectibleToken>\n  readCollectibleOutputs!: (members: string[], threshold: number, offset: string, limit: number) => Promise<CollectibleOutput[]>\n  makeCollectibleTransactionRaw!: (txInput: RawCollectibleInput) => Promise<string>\n  createCollectibleRequest!: (action: CollectibleAction, raw: string) => Promise<CollectibleRequest>\n  signCollectibleRequest!: (requestId: string, pin?: string) => Promise<CollectibleRequest>\n  cancelCollectibleRequest!: (requestId: string) => Promise<void>\n  unlockCollectibleRequest!: (requestId: string, pin?: string) => Promise<void>\n\n  // Conversation...\n  createConversation!: (params: ConversationCreateParmas) => Promise<Conversation>\n  updateConversation!: (conversationID: string, params: ConversationUpdateParams) => Promise<Conversation>\n  createContactConversation!: (userID: string) => Promise<Conversation>\n  createGroupConversation!: (conversationID: string, name: string, participant: Participant[]) => Promise<Conversation>\n  readConversation!: (conversationID: string) => Promise<Conversation>\n  managerConversation!: (conversationID: string, action: ConversationAction, participant: Participant[]) => Promise<Conversation>\n  addParticipants!: (conversationID: string, userIDs: string[]) => Promise<Conversation>\n  removeParticipants!: (conversationID: string, userIDs: string[]) => Promise<Conversation>\n  adminParticipants!: (conversationID: string, userIDs: string[]) => Promise<Conversation>\n  rotateConversation!: (conversationID: string) => Promise<Conversation>\n\n  // Message...\n  sendAcknowledgements!: (messages: AcknowledgementRequest[]) => Promise<void>\n  sendAcknowledgement!: (message: AcknowledgementRequest) => Promise<void>\n  sendMessage!: (message: MessageRequest) => Promise<MessageView>\n  sendMessages!: (messages: MessageRequest[]) => Promise<undefined>\n  sendMessageText!: (userID: string, text: string) => Promise<MessageView>\n  sendMessagePost!: (userID: string, text: string) => Promise<MessageView>\n  sendTextMsg!: (userID: string, text: string) => Promise<MessageView>\n  sendPostMsg!: (userID: string, text: string) => Promise<MessageView>\n  sendImageMsg!: (userID: string, image: ImageMessage) => Promise<MessageView>\n  sendDataMsg!: (userID: string, data: DataMessage) => Promise<MessageView>\n  sendStickerMsg!: (userID: string, sticker: StickerMessage) => Promise<MessageView>\n  sendContactMsg!: (userID: string, contact: ContactMesage) => Promise<MessageView>\n  sendAppCardMsg!: (userID: string, appCard: AppCardMessage) => Promise<MessageView>\n  sendAudioMsg!: (userID: string, audio: AudioMessage) => Promise<MessageView>\n  sendLiveMsg!: (userID: string, live: LiveMessage) => Promise<MessageView>\n  sendVideoMsg!: (userID: string, video: VideoMessage) => Promise<MessageView>\n  sendLocationMsg!: (userID: string, location: LocationMessage) => Promise<MessageView>\n  sendAppButtonMsg!: (userID: string, appButton: AppButtonMessage[]) => Promise<MessageView>\n  sendRecallMsg!: (userID: string, message: RecallMessage) => Promise<MessageView>\n\n  // Multisigs...\n  readMultisigs!: (offset: string, limit: number) => Promise<MultisigUTXO[]>\n  readMultisigOutputs!: (members: string[], threshold: number, offset: string, limit: number) => Promise<MultisigUTXO[]>\n  createMultisig!: (action: string, raw: string) => Promise<MultisigRequest>\n  signMultisig!: (request_id: string, pin: string) => Promise<MultisigRequest>\n  cancelMultisig!: (request_id: string) => Promise<void>\n  unlockMultisig!: (request_id: string, pin: string) => Promise<void>\n  readGhostKeys!: (receivers: string[], index: number) => Promise<GhostKeys>\n  batchReadGhostKeys!: (inputs: GhostInput[]) => Promise<GhostKeys[]>\n  makeMultisignTransaction!: (txInput: RawTransactionInput) => Promise<string>\n\n  // Pin...\n  verifyPin!: (pin: string) => Promise<void>\n  modifyPin!: (pin: string, newPin: string) => Promise<void>\n  readTurnServers!: () => Promise<Turn[]>\n\n  // Snapshot...\n  readSnapshots!: (params: SnapshotQuery) => Promise<Snapshot[]>\n  readNetworkSnapshots!: (params: SnapshotQuery) => Promise<Snapshot[]>\n  readSnapshot!: (snapshot_id: string) => Promise<Snapshot>\n  readNetworkSnapshot!: (snapshot_id: string) => Promise<Snapshot>\n\n  // Transfer...\n  verifyPayment!: (params: TransferInput | TransactionInput) => Promise<Payment>\n  transfer!: (params: TransferInput, pin?: string) => Promise<Snapshot>\n  readTransfer!: (trace_id: string) => Promise<Snapshot>\n  transaction!: (params: TransactionInput, pin?: string) => Promise<RawTransaction>\n  withdraw!: (params: WithdrawInput, pin?: string) => Promise<Snapshot>\n\n  // User...\n  userMe!: () => Promise<User>\n  readUser!: (userIdOrIdentityNumber: string) => Promise<User>\n  readUsers!: (userIDs: string[]) => Promise<User[]>\n  searchUser!: (identityNumberOrPhone: string) => Promise<User>\n  readFriends!: () => Promise<User[]>\n  createUser!: (full_name: string, session_secret?: string) => Promise<User>\n  modifyProfile!: (full_name?: string, avatar_base64?: string) => Promise<User>\n  modifyRelationships!: (relationship: UserRelationship) => Promise<User>\n  readBlockUsers!: () => Promise<User[]>\n\n\n  // Oauth...\n  authorizeToken(code: string, client_secret?: string, code_verifier?: string): Promise<{ access_token: string, scope: string }> {\n    if (!client_secret) client_secret = this.keystore.client_secret\n    if (!client_secret) return Promise.reject(new Error('client_secret required'))\n    return this.request.post('/oauth/token', {\n      client_secret, code, code_verifier,\n      client_id: this.keystore.client_id,\n    })\n  }\n\n  newUUID(): string {\n    return uuid()\n  }\n\n  uniqueConversationID(userID: string, recipientID: string): string {\n    let [minId, maxId] = [userID, recipientID]\n    if (minId > maxId) {\n      [minId, maxId] = [recipientID, userID]\n    }\n\n    const hash = crypto.createHash('md5')\n    hash.update(minId)\n    hash.update(maxId)\n    const bytes = hash.digest()\n\n    bytes[6] = (bytes[6] & 0x0f) | 0x30\n    bytes[8] = (bytes[8] & 0x3f) | 0x80\n\n    const digest = Array.from(bytes, byte => `0${(byte & 0xff).toString(16)}`.slice(-2)).join('')\n    return `${digest.slice(0, 8)}-${digest.slice(8, 12)}-${digest.slice(12, 16)}-${digest.slice(16, 20)}-${digest.slice(20, 32)}`\n  }\n}\n[\n  AddressClient,\n  AppClient,\n  AssetClient,\n  AttachmentClient,\n  ConversationClient,\n  MessageClient,\n  MultisigsClient,\n  PINClient,\n  SnapshotClient,\n  TransferClient,\n  UserClient,\n  CollectiblesClient,\n].forEach(client => _extends(Client, client))\n\nfunction _extends(origin: any, target: any) {\n  for (const key in target.prototype) {\n    origin.prototype[key] = target.prototype[key]\n  };\n}\n\nexport const authorizeToken = (client_id: string, code: string, client_secret: string, code_verifier?: string): Promise<{ access_token: string, scope: string }> =>\n  mixinRequest.get('/oauth/token', { params: { client_id, code, code_verifier, client_secret } })\n","import { Client } from \"../client\"\nimport { KeystoreAuth } from \"../mixin/keystore\"\nimport { signRequest } from \"../mixin/sign\"\nimport { Keystore } from \"../types\"\nimport WebSocket from 'ws'\nimport { BlazeMessage, MessageView } from \"../types/blaze\"\nimport { gzip, ungzip } from 'pako'\n\n\nconst zeromeshUrl = 'wss://mixin-blaze.zeromesh.net'\nconst oneUrl = 'wss://blaze.mixin.one/'\n\ninterface BlazeOptions {\n  parse?: boolean // parse message\n  syncAck?: boolean // sync ack\n}\n\ninterface BlazeHandler {\n  onMessage: (message: MessageView) => void\n  onAckReceipt?: (message: MessageView) => void\n  onTransfer?: (transfer: MessageView) => void\n  onConversation?: (conversation: MessageView) => void\n}\n\nexport class BlazeClient extends Client {\n  ws: WebSocket | null\n  h!: BlazeHandler\n  url = oneUrl\n  isAlive = false\n  pingInterval: any\n  options: BlazeOptions = {\n    parse: false,\n    syncAck: false\n  }\n\n  constructor(keystore?: Keystore, option?: BlazeOptions) {\n    super(keystore)\n    this.ws = null\n    if (option) this.options = option\n  }\n\n  loopBlaze(h: BlazeHandler) {\n    if (!h.onMessage) throw new Error('OnMessage not set')\n    this.h = h\n    this._loopBlaze()\n  }\n\n  _loopBlaze() {\n    const k = new KeystoreAuth(this.keystore)\n    const headers = {\n      Authorization: 'Bearer ' + k.signToken(signRequest('GET', '/'), ''),\n    }\n    this.ws = new WebSocket(this.url, \"Mixin-Blaze-1\", { headers, handshakeTimeout: 3000 })\n    this.ws.onmessage = async (event) => {\n      let msg = await this.decode(event.data as Uint8Array)\n      if (!msg) return\n      if (msg.source === 'ACKNOWLEDGE_MESSAGE_RECEIPT' && this.h.onAckReceipt) await this.h.onAckReceipt(msg)\n      else if (msg.category === 'SYSTEM_CONVERSATION' && this.h.onConversation) await this.h.onConversation(msg)\n      else if (msg.category === 'SYSTEM_ACCOUNT_SNAPSHOT' && this.h.onTransfer) await this.h.onTransfer(msg)\n      else await this.h.onMessage(msg)\n      if (this.options.syncAck) {\n        await this.send_raw({\n          id: this.newUUID(),\n          action: 'ACKNOWLEDGE_MESSAGE_RECEIPT',\n          params: { message_id: msg.message_id, status: \"READ\" }\n        })\n      }\n    }\n    this.ws.onclose = () => {\n      clearInterval(this.pingInterval)\n      this._loopBlaze()\n    }\n    this.ws.onerror = (e) => {\n      e.message === \"Opening handshake has timed out\" &&\n        (this.url = this.url === oneUrl ? zeromeshUrl : oneUrl)\n    }\n    this.ws.onopen = () => {\n      this.isAlive = true\n      this.send_raw({ id: this.newUUID(), action: \"LIST_PENDING_MESSAGES\" })\n    }\n  }\n\n  heartbeat() {\n    this.ws!.on('pong', () => {\n      this.isAlive = true\n    })\n    this.pingInterval = setInterval(() => {\n      if (this.ws!.readyState === WebSocket.CONNECTING) return\n      if (!this.isAlive) return this.ws!.terminate()\n      this.isAlive = false\n      this.ws!.ping()\n    }, 1000 * 30)\n  }\n\n\n  decode(data: Uint8Array): Promise<MessageView> {\n    return new Promise((resolve) => {\n      const t = ungzip(data, { to: 'string' })\n      const msgObj = JSON.parse(t)\n      if (this.options?.parse && msgObj.data && msgObj.data.data) {\n        msgObj.data.data = Buffer.from(msgObj.data.data, 'base64').toString()\n        try {\n          msgObj.data.data = JSON.parse(msgObj.data.data)\n        } catch (e) { }\n      }\n      resolve(msgObj.data)\n\n    })\n  }\n\n  send_raw(message: BlazeMessage) {\n    return new Promise((resolve) => {\n      const buffer = Buffer.from(JSON.stringify(message), 'utf-8')\n      const zipped = gzip(buffer)\n      if (this.ws!.readyState === WebSocket.OPEN) {\n        this.ws!.send(zipped)\n        resolve(true)\n      } else {\n        resolve(false)\n      }\n    })\n  }\n}","import { mixinRequest } from \"../services/request\"\nimport { Asset, NetworkTicker, Snapshot, SnapshotQuery, Transaction } from \"../types\"\n\nexport const readNetworkChains = (): Promise<Asset[]> => mixinRequest.get(\"/network/chains\")\n\n// only support limit/offset/asset/order\nexport const readNetworkSnapshots = (params: SnapshotQuery): Promise<Snapshot[]> => mixinRequest.get(\"/network/snapshots\", { params })\n\nexport const readNetworkSnapshot = (id: string): Promise<Snapshot> => mixinRequest.get(`/network/snapshots/${id}`)\n\nexport const readExternalTransactions = (params: SnapshotQuery): Promise<Transaction[]> => mixinRequest.get(\"/external/transactions\", { params })\n\nexport const readNetworkAssetsTop = (): Promise<Asset[]> => mixinRequest.get(\"/network/assets/top\")\n\nexport const readNetworkAssetsMultisig = (): Promise<Asset[]> => mixinRequest.get(\"/network/assets/multisig\")\n\nexport const readNetworkAsset = (id: string): Promise<Asset> => mixinRequest.get(`/network/assets/${id}`)\n\nexport const searchNetworkAsset = (assetNameOrSymbol: string): Promise<Asset[]> => mixinRequest.get(`/network/assets/search/${assetNameOrSymbol}`)\n\nexport const readExternalAddressesCheck = (params: SnapshotQuery): Promise<boolean> => mixinRequest.get(`/external/addresses/check`, { params })\n\nexport const readNetworkTicker = (asset_id: string, offset?: string): Promise<NetworkTicker> => mixinRequest.get(`/network/ticker`, { params: { asset: asset_id, offset } })\n\nexport const sendExternalProxy = (method: string, params: any[]): Promise<any> => mixinRequest.post(`/external/proxy`, { method, params })"],"names":["runtime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","generator","create","Generator","context","Context","_invoke","state","method","arg","Error","undefined","done","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","makeInvokeMethod","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","result","__await","then","unwrapped","error","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","doneResult","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","getSignPIN","keystore","pin","session_id","private_key","pin_token","pinToken","privateKey","_privateKey","toBuffer","pinKey","Buffer","from","curvePriv","publicKey","sharedKey","Uint8Array","q","n","p","r","z","x","Float64Array","a","gf","b","c","d","e","f","o","unpack25519","sel25519","A","Z","S","M","x32","subarray","x16","inv25519","j","m","t","car25519","pack25519","crypto_scalarmult","scalarMult","seed","sha512","createHash","write","digest","privateKeyToCurve25519","pki","privateKeyFromPem","decrypt","md","sha256","label","hex","bytes","parseInt","substr","hexToBytes","util","binary","encode","signPin","time","Uint64LE","Date","now","buf","concat","padding","paddingArray","iv16","randomBytes","cipher","createCipheriv","setAutoPadding","encrypted_pin_buff","update","toString","content","encoding","JSON","stringify","signRequest","url","body","startsWith","replace","toUpperCase","toHex","base64url","buffer","init","v","t0","t1","t2","t3","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","Math","floor","KeystoreAuth","signToken","signatrue","requestID","client_id","scope","issuedAt","v4","payload","uid","sid","iat","exp","jti","sig","scp","alg","typ","sign","ed25519","message","join","getEd25519Sign","algorithm","delay","setTimeout","hashMember","ids","newHash","sort","str","SHA3","hostURL","request","token","k","ins","axios","baseURL","headers","timeout","interceptors","use","config","data","uri","getUri","uuid","jwtToken","Authorization","response","res","request_id","includes","code","defaults","mixinRequest","UserClient","userMe","get","readUser","userIdOrIdentityNumber","readBlockUsers","readUsers","userIDs","post","readFriends","searchUser","identityNumberOrPhone","createUser","full_name","session_secret","forge","generateKeyPair","params","u","publick_key","modifyProfile","avatar_base64","modifyRelationships","relationship","AddressClient","createAddress","readAddress","addressID","readAddresses","assetID","deleteAddress","AppClient","updateApp","appID","readFavoriteApps","userID","favoriteApp","unfavoriteApp","AssetClient","readAsset","readAssets","readAssetFee","readExchangeRates","readAssetNetworkTicker","asset_id","offset","AttachmentClient","createAttachment","showAttachment","attachment_id","uploadFile","file","view_url","upload_url","uploadAttachmentTo","uploadURL","maxContentLength","ConversationClient","createConversation","updateConversation","conversationID","put","createContactConversation","category","conversation_id","uniqueConversationID","participants","user_id","createGroupConversation","participant","readConversation","managerConversation","action","addParticipants","map","removeParticipants","adminParticipants","role","rotateConversation","MessageClient","sendAcknowledgements","messages","sendAcknowledgement","sendMessage","sendMessages","sendMsg","recipient_id","message_id","newUUID","sendMessageText","text","sendMessagePost","sendTextMsg","sendPostMsg","sendImageMsg","image","sendDataMsg","sendStickerMsg","sticker","sendContactMsg","contact","sendAppCardMsg","appCard","sendAudioMsg","audio","sendLiveMsg","live","sendVideoMsg","video","sendLocationMsg","location","sendAppButtonMsg","appButton","sendRecallMsg","empty","magic","Encoder","writeInt","alloc","writeUInt16BE","wirteUint64","writeBigUInt64BE","wirteUint16","writeInteger","unshift","getIntBytes","writeSlice","l","encodeInput","hash","index","genesis","deposit","chain","asset","byteLength","tx","transaction","amount","mint","group","batch","encodeOutput","BigNumber","times","toNumber","_this","mask","s","script","w","withdrawal","address","addr","tag","encodeAggregatedSignature","js","signature","signers","max","_this2","masks","encodeSignature","sm","ss","Number","_this3","dumpTransaction","signed","enc","version","inputs","outputs","extra","aggregated","sl","signatures","DumpOutputFromGhostKey","gi","threshold","toFixed","MultisigsClient","readMultisigs","limit","readMultisigOutputs","members","createMultisig","raw","signMultisig","cancelMultisig","unlockMultisig","readGhostKeys","receivers","hint","batchReadGhostKeys","makeMultisignTransaction","txInput","memo","input","transaction_hash","output_index","change","reduce","sum","plus","minus","isGreaterThan","ghostInputs","output","idx","ghosts","PINClient","verifyPin","modifyPin","old_pin","readTurnServers","SnapshotClient","readSnapshots","readNetworkSnapshots","readSnapshot","snapshot_id","readNetworkSnapshot","TransferClient","verifyPayment","transfer","readTransfer","trace_id","withdraw","buildMintCollectibleMemo","collection_id","token_id","encoder","BigInt","UUIDParse","replaceAll","GroupMembers","CollectiblesClient","newMintCollectibleTransferInput","opponent_multisig","readCollectibleToken","id","readCollectibleOutputs","_members","makeCollectibleTransactionRaw","mixin_id","nfo","output_id","createCollectibleRequest","signCollectibleRequest","requestId","cancelCollectibleRequest","unlockCollectibleRequest","Client","authorizeToken","client_secret","code_verifier","recipientID","minId","maxId","crypto","Array","byte","client","origin","target","_extends","oneUrl","option","parse","syncAck","ws","options","loopBlaze","h","onMessage","_loopBlaze","WebSocket","handshakeTimeout","onmessage","event","decode","msg","source","onAckReceipt","onConversation","onTransfer","send_raw","status","onclose","clearInterval","pingInterval","onerror","onopen","isAlive","heartbeat","on","setInterval","readyState","CONNECTING","terminate","ping","ungzip","to","msgObj","_this4","zipped","gzip","_this5","OPEN","send","assetNameOrSymbol"],"mappings":"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"}