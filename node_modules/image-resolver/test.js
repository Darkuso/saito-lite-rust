var ImageResolver = require('./src/ImageResolver');

var resolver = new ImageResolver();
resolver.register(new ImageResolver.Opengraph());
resolver.register(new ImageResolver.Webpage());

var urlList = [
    "http://svay.com/",
    "https://github.com/"
];
var imagesList = [];
var urlChecked = 0;

urlList.forEach( function (item) {
  resolver.resolve(item, function (result) {
    if (result) {
      imagesList.push(result.image);
    }

    urlChecked++;
    if (urlChecked === urlList.length) {
        console.log(imagesList);
    }
  });
});
