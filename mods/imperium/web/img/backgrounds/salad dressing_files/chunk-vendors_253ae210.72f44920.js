(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~253ae210"],{"0813":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[t.$q.screen.lt.sm?e("TitleBar"):t._e(),e("div",{staticClass:"col-12 justify-center items-center row size"},[e("div",{staticClass:"col-10 col-sm-6 col-md-4 row justify-center"},[e("div",{staticClass:"col-12"},[e("q-img",{attrs:{basic:"",contain:"",height:"75px",src:n("5ccb")}}),t.verify?e("div",{staticClass:"text-center",staticStyle:{padding:"20px 0"}},[t._v(" Enter the verification code we just sent "+t._s(t.infoUser.DeliveryMedium)+" to "+t._s(t.infoUser.Destination)+" ")]):e("div",{staticClass:"text-center",staticStyle:{padding:"20px 0"}},[t._v(" Enter the email address or phone number associated with your account ")])],1),t.verify?e("q-form",{staticClass:"row col-12",on:{submit:t.onResetPassword}},[e("div",{staticClass:"col-12"},[e("OtpInput",{ref:"otpInput",staticClass:"justify-center",attrs:{autocomplete:"one-time-code","input-classes":"otp-input",separator:"  ","num-inputs":6,"should-auto-focus":!0,"is-input-num":!0},on:{"on-complete":t.handleOnComplete},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}})],1),e("div",{staticClass:"col-12",staticStyle:{"padding-top":"20px"}},[e("q-input",{ref:"password",attrs:{filled:"",dense:"",type:"password",label:"New Password *","lazy-rules":"",rules:[t.CheckPassword]},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"fas fa-info-circle"}},[e("q-menu",{attrs:{"auto-close":"",anchor:"top middle",self:"bottom middle"}},[e("div",{staticClass:"tooltip-content"},[e("div",{staticClass:"tootip-arrow"}),e("div",[t._v("Passwords must")]),e("div",[t._v(" - Minimum length of this field must be equal or greater than 8 symbols ")]),e("div",[t._v("- Characters:")]),e("ul",[e("li",[t._v("Lower Case (a-z)")]),e("li",[t._v("Digits (0-9)")])])])])],1)]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("q-input",{ref:"CfPassword",attrs:{filled:"",dense:"",type:"password",label:"Confirm New Password *","lazy-rules":"",rules:[t=>t&&t.length>0||"You can't leave this empty.",e=>e&&e===t.password||"Password and Confirm password does not match"]},model:{value:t.cfPassword,callback:function(e){t.cfPassword=e},expression:"cfPassword"}})],1),e("div",{staticClass:"col-12",staticStyle:{padding:"20px 0"}},[e("q-btn",{staticClass:"full-width btn-login",attrs:{loading:t.loading,type:"submit","no-caps":"",label:"Reset My Password"}})],1)]):e("q-form",{staticClass:"row col-12",on:{submit:t.onVerifyUsername}},[e("div",{staticClass:"col-12"},[e("q-input",{attrs:{label:"email or phone number that you sign up with","lazy-rules":"",rules:[t=>t&&t.length>0||"Please type your email or phone number"]},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",[e("i",{staticClass:"fas fa-user"})])]},proxy:!0}],null,!1,1011298448),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),e("div",{staticClass:"col-12",staticStyle:{padding:"20px 0"}},[e("q-btn",{staticClass:"full-width btn-login",attrs:{loading:t.loading,type:"submit","no-caps":"",label:"Reset My Password"}})],1)])],1)]),e("q-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("DialogAlert",{attrs:{message:t.message,rightBtn:"Close"},on:{rightClick:function(e){t.dialog=!1}}})],1)],1)},i=[],s=(n("ddb0"),n("5319"),n("202c")),a=n("90df"),o=n("0378"),c=n("4e73"),u=n("27f9"),l=n("24e8"),f=n("cc46"),d=n.n(f);const h={QForm:o["a"],QMenu:c["a"],QInput:u["a"],QDialog:l["a"]};var p={data(){return{username:"",otp:"",password:"",cfPassword:"",infoUser:"",message:"",dialog:!1,verify:!1,loading:!1}},components:{...h,OtpInput:d.a,TitleBar:()=>n.e("app~748942c6").then(n.bind(null,"1e1d")),DialogAlert:()=>Promise.resolve().then(n.bind(null,"bb5b"))},methods:{handleOnComplete(t){this.otp=t},CheckPassword(t){return Object(s["a"])(t)},async onVerifyUsername(){this.loading=!0;try{"Email is not correct"===await Object(a["a"])(this.username)&&this.username.startsWith("0")&&(this.username=this.username.replace("0","+66"));const t=await this.$store.dispatch("authentication/ResetPassword",this.username);this.infoUser=t.CodeDeliveryDetails,this.verify=!0}catch(t){switch(t.code){case"UserNotFoundException":this.message="User not found.",this.dialog=!0;break;default:this.message=t.message,this.dialog=!0;break}}finally{this.loading=!1}},async onResetPassword(){this.loading=!0;const t={username:this.username,code:this.otp,password:this.password};try{await this.$store.dispatch("authentication/ConfirmResetPessword",t);this.$router.push("/signin")}catch(e){this.message=e.message,this.dialog=!0}finally{this.loading=!1}}}},g=p,m=(n("cef4"),n("b4df0"),n("2877")),v=Object(m["a"])(g,r,i,!1,null,"3fc3feca",null);e["default"]=v.exports},"0a9b":function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return _}));var r=n("9ab4"),i=n("956e"),s=n("f0b6"),a=n("f404"),o=n("f80d"),c=n("d9b7"),u=n("8bac"),l=n("3016"),f=n("1257"),d=n("1461");function h(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function p(t,e,n){return Object(d["b"])(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:"explicitly_set"}}),t):("function"===typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:"inheritance"}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:"client_rate",rate:Number(r)}})),g(r)?r?(t.sampled=Math.random()<r,t.sampled?(u["a"]&&s["c"].log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(u["a"]&&s["c"].log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(u["a"]&&s["c"].log("[Tracing] Discarding transaction because "+("function"===typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(u["a"]&&s["c"].warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var r}function g(t){return Object(a["h"])(t)||"number"!==typeof t&&"boolean"!==typeof t?(u["a"]&&s["c"].warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):!(t<0||t>1)||(u["a"]&&s["c"].warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1)}function m(t,e){var n=this.getClient(),i=n&&n.getOptions()||{},s=new f["a"](t,this);return s=p(s,i,Object(r["__assign"])({parentSampled:t.parentSampled,transactionContext:t},e)),s.sampled&&s.initSpanRecorder(i._experiments&&i._experiments.maxSpans),s}function v(t,e,n,i,s){var a=t.getClient(),o=a&&a.getOptions()||{},c=new l["b"](e,t,n,i);return c=p(c,o,Object(r["__assign"])({parentSampled:e.parentSampled,transactionContext:e},s)),c.sampled&&c.initSpanRecorder(o._experiments&&o._experiments.maxSpans),c}function y(){var t=Object(i["d"])();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=m),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=h))}function b(){var e=Object(i["d"])();if(e.__SENTRY__){var n={mongodb:function(){var e=Object(o["a"])(t,"./integrations/node/mongo");return new e.Mongo},mongoose:function(){var e=Object(o["a"])(t,"./integrations/node/mongo");return new e.Mongo({mongoose:!0})},mysql:function(){var e=Object(o["a"])(t,"./integrations/node/mysql");return new e.Mysql},pg:function(){var e=Object(o["a"])(t,"./integrations/node/postgres");return new e.Postgres}},s=Object.keys(n).filter((function(t){return!!Object(o["c"])(t)})).map((function(t){try{return n[t]()}catch(e){return}})).filter((function(t){return t}));s.length>0&&(e.__SENTRY__.integrations=Object(r["__spread"])(e.__SENTRY__.integrations||[],s))}}function _(){y(),Object(o["b"])()&&b(),Object(c["a"])()}}).call(this,n("dd40")(t))},"0aa5":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("div",[e("q-card",{staticClass:"bg-primary text-white full-height",staticStyle:{width:"100%"}},[e("q-bar",[e("q-space"),!1!==t.close?e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"},on:{click:t.onClose}},[e("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1):t._e()],1),e("div",{staticClass:"row justify-center col-12 col-md-6 bg-primary"},[e("q-card-section",{staticClass:"row col-12 col-sm-10 col-md-7"},[t._t("header")],2),e("q-card-section",{staticClass:"q-pt-none row col-12 col-sm-10 col-md-7"},[e("div",{staticStyle:{width:"100%"}},[t._t("default")],2)])],1)],1)],1)},i=[],s=n("f09f"),a=n("a370"),o=n("2c91"),c=n("d847"),u=n("05c0");const l={QCard:s["a"],QCardSection:a["a"],QSpace:o["a"],QBar:c["a"],QTooltip:u["a"]};var f={props:["title","btn-right","btnRight2","close"],components:{...l},methods:{onClickbtn(){this.$emit("on-confirm")},onClickbtn2(){this.$emit("on-express")},onClose(){this.$emit("on-close")}}},d=f,h=n("2877"),p=Object(h["a"])(d,r,i,!1,null,null,null);e["default"]=p.exports},1257:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("9ab4"),i=n("956e"),s=n("f404"),a=n("f0b6"),o=n("e8f5"),c=n("8bac"),u=n("498a"),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r._measurements={},r._hub=Object(i["b"])(),Object(s["g"])(n,i["a"])&&(r._hub=n),r.name=e.name||"",r.metadata=e.metadata||{},r._trimEnd=e.trimEnd,r.transaction=r,r}return Object(r["__extends"])(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new u["b"](t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=Object(r["__assign"])({},t)},e.prototype.setMetadata=function(t){this.metadata=Object(r["__assign"])(Object(r["__assign"])({},this.metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(c["a"]&&a["c"].warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata},s=Object.keys(this._measurements).length>0;return s&&(c["a"]&&a["c"].log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),c["a"]&&a["c"].log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(i)}c["a"]&&a["c"].log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var o=this._hub.getClient(),u=o&&o.getTransport&&o.getTransport();u&&u.recordLostEvent&&u.recordLostEvent("sample_rate","transaction")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return Object(o["c"])(Object(r["__assign"])(Object(r["__assign"])({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=(n=e.name,null!==n&&void 0!==n?n:""),this._trimEnd=e.trimEnd,this},e}(u["a"])},1461:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return o}));var r=n("956e");function i(t){var e=Object(r["b"])().getClient(),n=t||e&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function s(t){var e=t||Object(r["b"])(),n=e.getScope();return n&&n.getTransaction()}function a(t){return t/1e3}function o(t){return 1e3*t}},"15f7":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n("9ab4"),i=n("f404"),s=n("c020"),a=n("e8f5"),o=n("a518");function c(t,e,n){void 0===e&&(e=1/0),void 0===n&&(n=1/0);try{return l("",t,e,n)}catch(r){return{ERROR:"**non-serializable** ("+r+")"}}}function u(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r=c(t,e);return h(r)>n?u(t,e-1,n):r}function l(t,e,n,o,c){void 0===n&&(n=1/0),void 0===o&&(o=1/0),void 0===c&&(c=Object(s["a"])());var u=Object(r["__read"])(c,2),d=u[0],h=u[1],p=e;if(p&&"function"===typeof p.toJSON)try{return p.toJSON()}catch(S){}if(null===e||["number","boolean","string"].includes(typeof e)&&!Object(i["h"])(e))return e;var g=f(t,e);if(!g.startsWith("[object "))return g;if(0===n)return g.replace("object ","");if(d(e))return"[Circular ~]";var m=Array.isArray(e)?[]:{},v=0,y=Object(i["d"])(e)||Object(i["f"])(e)?Object(a["b"])(e):e;for(var b in y)if(Object.prototype.hasOwnProperty.call(y,b)){if(v>=o){m[b]="[MaxProperties ~]";break}var _=y[b];m[b]=l(b,_,n-1,o,c),v+=1}return h(e),m}function f(e,n){try{return"domain"===e&&n&&"object"===typeof n&&n._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!==typeof t&&n===t?"[Global]":"undefined"!==typeof window&&n===window?"[Window]":"undefined"!==typeof document&&n===document?"[Document]":Object(i["m"])(n)?"[SyntheticEvent]":"number"===typeof n&&n!==n?"[NaN]":void 0===n?"[undefined]":"function"===typeof n?"[Function: "+Object(o["b"])(n)+"]":"symbol"===typeof n?"["+String(n)+"]":"bigint"===typeof n?"[BigInt: "+String(n)+"]":"[object "+Object.getPrototypeOf(n).constructor.name+"]"}catch(r){return"**non-serializable** ("+r+")"}}function d(t){return~-encodeURI(t).split(/%..|./).length}function h(t){return d(JSON.stringify(t))}}).call(this,n("c8ba"))},"1b87":function(t,e,n){"use strict";n("80c3")},"1c4e":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=["activate","mount","update"]},"1d1e":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n("f404");function i(t){return new a((function(e){e(t)}))}function s(t){return new a((function(e,n){n(t)}))}var a=function(){function t(t){var e=this;this._state=0,this._handlers=[],this._resolve=function(t){e._setResult(1,t)},this._reject=function(t){e._setResult(2,t)},this._setResult=function(t,n){0===e._state&&(Object(r["n"])(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._executeHandlers=function(){if(0!==e._state){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t[0]||(1===e._state&&t[1](e._value),2===e._state&&t[2](e._value),t[0]=!0)}))}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.prototype.then=function(e,n){var r=this;return new t((function(t,i){r._handlers.push([!1,function(n){if(e)try{t(e(n))}catch(r){i(r)}else t(n)},function(e){if(n)try{t(n(e))}catch(r){i(r)}else i(e)}]),r._executeHandlers()}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var i,s;return n.then((function(t){s=!1,i=t,e&&e()}),(function(t){s=!0,i=t,e&&e()})).then((function(){s?r(i):t(i)}))}))},t}()},2075:function(t,e,n){"use strict";n.r(e),n.d(e,"Severity",(function(){return r["h"]})),n.d(e,"addGlobalEventProcessor",(function(){return r["k"]})),n.d(e,"addBreadcrumb",(function(){return r["j"]})),n.d(e,"captureException",(function(){return r["m"]})),n.d(e,"captureEvent",(function(){return r["l"]})),n.d(e,"captureMessage",(function(){return r["n"]})),n.d(e,"configureScope",(function(){return r["p"]})),n.d(e,"getHubFromCarrier",(function(){return r["w"]})),n.d(e,"getCurrentHub",(function(){return r["v"]})),n.d(e,"Hub",(function(){return r["b"]})),n.d(e,"makeMain",(function(){return r["z"]})),n.d(e,"Scope",(function(){return r["f"]})),n.d(e,"Session",(function(){return r["g"]})),n.d(e,"startTransaction",(function(){return r["I"]})),n.d(e,"SDK_VERSION",(function(){return r["e"]})),n.d(e,"setContext",(function(){return r["B"]})),n.d(e,"setExtra",(function(){return r["C"]})),n.d(e,"setExtras",(function(){return r["D"]})),n.d(e,"setTag",(function(){return r["E"]})),n.d(e,"setTags",(function(){return r["F"]})),n.d(e,"setUser",(function(){return r["G"]})),n.d(e,"withScope",(function(){return r["J"]})),n.d(e,"BrowserClient",(function(){return r["a"]})),n.d(e,"injectReportDialog",(function(){return r["x"]})),n.d(e,"eventFromException",(function(){return r["r"]})),n.d(e,"eventFromMessage",(function(){return r["s"]})),n.d(e,"defaultIntegrations",(function(){return r["q"]})),n.d(e,"forceLoad",(function(){return r["u"]})),n.d(e,"lastEventId",(function(){return r["y"]})),n.d(e,"onLoad",(function(){return r["A"]})),n.d(e,"showReportDialog",(function(){return r["H"]})),n.d(e,"flush",(function(){return r["t"]})),n.d(e,"close",(function(){return r["o"]})),n.d(e,"wrap",(function(){return r["K"]})),n.d(e,"SDK_NAME",(function(){return r["d"]})),n.d(e,"Integrations",(function(){return r["c"]})),n.d(e,"Transports",(function(){return r["i"]})),n.d(e,"init",(function(){return i["a"]})),n.d(e,"vueRouterInstrumentation",(function(){return a})),n.d(e,"attachErrorHandler",(function(){return o["a"]})),n.d(e,"createTracingMixins",(function(){return c["a"]}));var r=n("5921"),i=n("8a39"),s=n("82dc");function a(t){return function(e,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0),t.onError((function(t){return Object(s["c"])(t)})),t.beforeEach((function(t,i,s){var a=null==i.name&&0===i.matched.length,o={"routing.instrumentation":"vue-router"},c={params:t.params,query:t.query};n&&a&&e({name:t.name&&t.name.toString()||t.path,op:"pageload",tags:o,data:c}),r&&!a&&e({name:t.name&&t.name.toString()||t.matched[0]&&t.matched[0].path||t.path,op:"navigation",tags:o,data:c}),s()}))}}var o=n("9980"),c=n("af06")},"23ad":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(e,n,r){var i=n.prototype,s=i.format;r.en.formats=t,i.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(e,n){return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,r,i){var s=i&&i.toUpperCase();return r||n[i]||t[i]||n[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))}(e,void 0===n?{}:n);return s.call(this,r)}}}))},3016:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return h}));var r=n("9ab4"),i=n("91db"),s=n("f0b6"),a=n("5964"),o=n("8bac"),c=n("498a"),u=n("1257"),l=1e3,f=5e3,d=function(t){function e(e,n,r,i){void 0===r&&(r="");var s=t.call(this,i)||this;return s._pushActivity=e,s._popActivity=n,s.transactionSpanId=r,s}return Object(r["__extends"])(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"===typeof t?t:Object(i["d"])(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(c["b"]),h=function(t){function e(e,n,r,i){void 0===r&&(r=l),void 0===i&&(i=!1);var a=t.call(this,e,n)||this;return a._idleHub=n,a._idleTimeout=r,a._onScope=i,a.activities={},a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&i&&(p(n),o["a"]&&s["c"].log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope((function(t){return t.setSpan(a)}))),a._initTimeout=setTimeout((function(){a._finished||a.finish()}),a._idleTimeout),a}return Object(r["__extends"])(e,t),e.prototype.finish=function(e){var n,a,c=this;if(void 0===e&&(e=Object(i["d"])()),this._finished=!0,this.activities={},this.spanRecorder){o["a"]&&s["c"].log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var u=Object(r["__values"])(this._beforeFinishCallbacks),l=u.next();!l.done;l=u.next()){var f=l.value;f(this,e)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===c.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),o["a"]&&s["c"].log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||o["a"]&&s["c"].log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),o["a"]&&s["c"].log("[Tracing] flushing IdleTransaction")}else o["a"]&&s["c"].log("[Tracing] No active IdleTransaction");return this._onScope&&p(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;if(!this.spanRecorder){var n=function(t){e._finished||e._pushActivity(t)},r=function(t){e._finished||e._popActivity(t)};this.spanRecorder=new d(n,r,this.spanId,t),o["a"]&&s["c"].log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),o["a"]&&s["c"].log("[Tracing] pushActivity: "+t),this.activities[t]=!0,o["a"]&&s["c"].log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(o["a"]&&s["c"].log("[Tracing] popActivity "+t),delete this.activities[t],o["a"]&&s["c"].log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=Object(i["d"])()+n/1e3;setTimeout((function(){e._finished||(e.setTag(a["a"],a["b"][1]),e.finish(r))}),n)}},e.prototype._beat=function(){if(!this._finished){var t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(o["a"]&&s["c"].log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.setTag(a["a"],a["b"][0]),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;o["a"]&&s["c"].log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout((function(){t._beat()}),f)},e}(u["a"]);function p(t){if(t){var e=t.getScope();if(e){var n=e.getTransaction();n&&e.setSpan(void 0)}}}},3437:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},"3b50":function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=/(?:^|[-_])(\w)/g,i=function(t){return t.replace(r,(function(t){return t.toUpperCase()})).replace(/[-_]/g,"")},s="<Root>",a="<Anonymous>",o=function(t,e){var n="";while(e)e%2===1&&(n+=t),e>1&&(t+=t),e>>=1;return n},c=function(t,e){if(!t)return a;if(t.$root===t)return s;var n=t.$options,r=n.name||n._componentTag,o=n.__file;if(!r&&o){var c=o.match(/([^/\\]+)\.vue$/);c&&(r=c[1])}return(r?"<"+i(r)+">":a)+(o&&!1!==e?" at "+o:"")},u=function(t){var e,n,r;if(((null===(e=t)||void 0===e?void 0:e._isVue)||(null===(n=t)||void 0===n?void 0:n.__isVue))&&(null===(r=t)||void 0===r?void 0:r.$parent)){var i=[],s=0;while(t){if(i.length>0){var a=i[i.length-1];if(a.constructor===t.constructor){s+=1,t=t.$parent;continue}s>0&&(i[i.length-1]=[a,s],s=0)}i.push(t),t=t.$parent}var u=i.map((function(t,e){return""+((0===e?"---\x3e ":o(" ",5+2*e))+(Array.isArray(t)?c(t[0])+"... ("+t[1]+" recursive calls)":c(t)))})).join("\n");return"\n\nfound in\n\n"+u}return"\n\n(found in "+c(t)+")"}},"3bc0":function(t,e,n){"use strict";function r(t){t.then(null,(function(t){console.error(t)}))}n.d(e,"a",(function(){return r}))},"3f01":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("a19e"),i=n("91db");function s(t,e,n){var s=[{type:"client_report"},{timestamp:n||Object(i["b"])(),discarded_events:t}];return Object(r["a"])(e?{dsn:e}:{},[s])}},"450c":function(t,e,n){"use strict";function r(){return"undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}n.d(e,"a",(function(){return r}))},"498a":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));var r=n("9ab4"),i=n("f7f6"),s=n("91db"),a=n("e8f5"),o=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),c=function(){function t(t){if(this.traceId=Object(i["f"])(),this.spanId=Object(i["f"])().substring(16),this.startTimestamp=Object(s["d"])(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t(Object(r["__assign"])(Object(r["__assign"])({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=Object(r["__assign"])(Object(r["__assign"])({},this.tags),(n={},n[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=Object(r["__assign"])(Object(r["__assign"])({},this.data),(n={},n[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=u(t);return"unknown_error"!==e&&this.setStatus(e),this},t.prototype.isSuccess=function(){return"ok"===this.status},t.prototype.finish=function(t){this.endTimestamp="number"===typeof t?t:Object(s["d"])()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return Object(a["c"])({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,i,s;return this.data=(e=t.data,null!==e&&void 0!==e?e:{}),this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=(n=t.spanId,null!==n&&void 0!==n?n:this.spanId),this.startTimestamp=(r=t.startTimestamp,null!==r&&void 0!==r?r:this.startTimestamp),this.status=t.status,this.tags=(i=t.tags,null!==i&&void 0!==i?i:{}),this.traceId=(s=t.traceId,null!==s&&void 0!==s?s:this.traceId),this},t.prototype.getTraceContext=function(){return Object(a["c"])({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Object(a["c"])({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}();function u(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}},"4c44":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return bt})),n.d(e,"c",(function(){return Ct})),n.d(e,"d",(function(){return wt})),n.d(e,"e",(function(){return Ft})),n.d(e,"f",(function(){return Ut})),n.d(e,"g",(function(){return Gt})),n.d(e,"h",(function(){return Dt})),n.d(e,"i",(function(){return zt}));
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var r=function(){function t(t){var e=t||{},n=e.ValidationData,r=e.Username,i=e.Password,s=e.AuthParameters,a=e.ClientMetadata;this.validationData=n||{},this.authParameters=s||{},this.clientMetadata=a||{},this.username=r,this.password=i}var e=t.prototype;return e.getUsername=function(){return this.username},e.getPassword=function(){return this.password},e.getValidationData=function(){return this.validationData},e.getAuthParameters=function(){return this.authParameters},e.getClientMetadata=function(){return this.clientMetadata},t}(),i=n("b639"),s=n("21bf"),a=n.n(s),o=(n("17e1"),n("94f8")),c=n.n(o),u=n("ed53"),l=n.n(u),f=n("e706");function d(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var s=e[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")}var h,p=function(){function t(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length}var e=t.prototype;return e.random=function(e){for(var n=[],r=0;r<e;r+=4)n.push(Object(f["a"])());return new t(n,e)},e.toString=function(){return d(this)},t}(),g=m;function m(t,e){null!=t&&this.fromString(t,e)}function v(){return new m(null)}var y=0xdeadbeefcafe,b=15715070==(16777215&y);function _(t,e,n,r,i,s){while(--s>=0){var a=e*this[t++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i}function S(t,e,n,r,i,s){var a=32767&e,o=e>>15;while(--s>=0){var c=32767&this[t],u=this[t++]>>15,l=o*c+u*a;c=a*c+((32767&l)<<15)+n[r]+(1073741823&i),i=(c>>>30)+(l>>>15)+o*u+(i>>>30),n[r++]=1073741823&c}return i}function C(t,e,n,r,i,s){var a=16383&e,o=e>>14;while(--s>=0){var c=16383&this[t],u=this[t++]>>14,l=o*c+u*a;c=a*c+((16383&l)<<14)+n[r]+i,i=(c>>28)+(l>>14)+o*u,n[r++]=268435455&c}return i}var w="undefined"!==typeof navigator;w&&b&&"Microsoft Internet Explorer"==navigator.appName?(m.prototype.am=S,h=30):w&&b&&"Netscape"!=navigator.appName?(m.prototype.am=_,h=26):(m.prototype.am=C,h=28),m.prototype.DB=h,m.prototype.DM=(1<<h)-1,m.prototype.DV=1<<h;var T=52;m.prototype.FV=Math.pow(2,T),m.prototype.F1=T-h,m.prototype.F2=2*h-T;var O,D,E="0123456789abcdefghijklmnopqrstuvwxyz",A=new Array;for(O="0".charCodeAt(0),D=0;D<=9;++D)A[O++]=D;for(O="a".charCodeAt(0),D=10;D<36;++D)A[O++]=D;for(O="A".charCodeAt(0),D=10;D<36;++D)A[O++]=D;function I(t){return E.charAt(t)}function U(t,e){var n=A[t.charCodeAt(e)];return null==n?-1:n}function j(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function x(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function k(t){var e=v();return e.fromInt(t),e}function R(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;var r=t.length,i=!1,s=0;while(--r>=0){var a=U(t,r);a<0?"-"==t.charAt(r)&&(i=!0):(i=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,s+=n,s>=this.DB&&(s-=this.DB))}this.clamp(),i&&m.ZERO.subTo(this,this)}function P(){var t=this.s&this.DM;while(this.t>0&&this[this.t-1]==t)--this.t}function F(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");e=2}var n,r=(1<<e)-1,i=!1,s="",a=this.t,o=this.DB-a*this.DB%e;if(a-- >0){o<this.DB&&(n=this[a]>>o)>0&&(i=!0,s=I(n));while(a>=0)o<e?(n=(this[a]&(1<<o)-1)<<e-o,n|=this[--a]>>(o+=this.DB-e)):(n=this[a]>>(o-=e)&r,o<=0&&(o+=this.DB,--a)),n>0&&(i=!0),i&&(s+=I(n))}return i?s:"0"}function M(){var t=v();return m.ZERO.subTo(this,t),t}function N(){return this.s<0?this.negate():this}function B(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;while(--n>=0)if(0!=(e=this[n]-t[n]))return e;return 0}function q(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function V(){return this.t<=0?0:this.DB*(this.t-1)+q(this[this.t-1]^this.s&this.DM)}function K(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function L(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function H(t,e){var n,r=t%this.DB,i=this.DB-r,s=(1<<i)-1,a=Math.floor(t/this.DB),o=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+a+1]=this[n]>>i|o,o=(this[n]&s)<<r;for(n=a-1;n>=0;--n)e[n]=0;e[a]=o,e.t=this.t+a+1,e.s=this.s,e.clamp()}function W(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,s=(1<<r)-1;e[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&s)<<i,e[a-n]=this[a]>>r;r>0&&(e[this.t-n-1]|=(this.s&s)<<i),e.t=this.t-n,e.clamp()}}function Y(t,e){var n=0,r=0,i=Math.min(t.t,this.t);while(n<i)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){r-=t.s;while(n<this.t)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(n<t.t)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()}function J(t,e){var n=this.abs(),r=t.abs(),i=n.t;e.t=i+r.t;while(--i>=0)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&m.ZERO.subTo(e,e)}function G(t){var e=this.abs(),n=t.t=2*e.t;while(--n>=0)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function $(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=v());var s=v(),a=this.s,o=t.s,c=this.DB-q(r[r.t-1]);c>0?(r.lShiftTo(c,s),i.lShiftTo(c,n)):(r.copyTo(s),i.copyTo(n));var u=s.t,l=s[u-1];if(0!=l){var f=l*(1<<this.F1)+(u>1?s[u-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,g=n.t,y=g-u,b=null==e?v():e;s.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),m.ONE.dlShiftTo(u,b),b.subTo(s,s);while(s.t<u)s[s.t++]=0;while(--y>=0){var _=n[--g]==l?this.DM:Math.floor(n[g]*d+(n[g-1]+p)*h);if((n[g]+=s.am(0,_,n,y,0,u))<_){s.dlShiftTo(y,b),n.subTo(b,n);while(n[g]<--_)n.subTo(b,n)}}null!=e&&(n.drShiftTo(u,e),a!=o&&m.ZERO.subTo(e,e)),n.t=u,n.clamp(),c>0&&n.rShiftTo(c,n),a<0&&m.ZERO.subTo(n,n)}}}function z(t){var e=v();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(m.ZERO)>0&&t.subTo(e,e),e}function Z(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Q(t){return 0==this.compareTo(t)}function X(t,e){var n=0,r=0,i=Math.min(t.t,this.t);while(n<i)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){r+=t.s;while(n<this.t)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(n<t.t)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()}function tt(t){var e=v();return this.addTo(t,e),e}function et(t){var e=v();return this.subTo(t,e),e}function nt(t){var e=v();return this.multiplyTo(t,e),e}function rt(t){var e=v();return this.divRemTo(t,e,null),e}function it(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function st(t){var e=v();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(m.ZERO)>0&&this.m.subTo(e,e),e}function at(t){var e=v();return t.copyTo(e),this.reduce(e),e}function ot(t){while(t.t<=this.mt2)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;n=e+this.m.t,t[n]+=this.m.am(0,r,t,e,0,this.m.t);while(t[n]>=t.DV)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function ct(t,e){t.squareTo(e),this.reduce(e)}function ut(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function lt(t,e,n){var r,i=t.bitLength(),s=k(1),a=new it(e);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var o=new Array,c=3,u=r-1,l=(1<<r)-1;if(o[1]=a.convert(this),r>1){var f=v();a.sqrTo(o[1],f);while(c<=l)o[c]=v(),a.mulTo(f,o[c-2],o[c]),c+=2}var d,h,p=t.t-1,g=!0,m=v();i=q(t[p])-1;while(p>=0){i>=u?d=t[p]>>i-u&l:(d=(t[p]&(1<<i+1)-1)<<u-i,p>0&&(d|=t[p-1]>>this.DB+i-u)),c=r;while(0==(1&d))d>>=1,--c;if((i-=c)<0&&(i+=this.DB,--p),g)o[d].copyTo(s),g=!1;else{while(c>1)a.sqrTo(s,m),a.sqrTo(m,s),c-=2;c>0?a.sqrTo(s,m):(h=s,s=m,m=h),a.mulTo(m,o[d],s)}while(p>=0&&0==(t[p]&1<<i))a.sqrTo(s,m),h=s,s=m,m=h,--i<0&&(i=this.DB-1,--p)}var y=a.revert(s);return n(null,y),y}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
function ft(t){return i["Buffer"].from((new p).random(t).toString(),"hex")}it.prototype.convert=st,it.prototype.revert=at,it.prototype.reduce=ot,it.prototype.mulTo=ut,it.prototype.sqrTo=ct,m.prototype.copyTo=j,m.prototype.fromInt=x,m.prototype.fromString=R,m.prototype.clamp=P,m.prototype.dlShiftTo=K,m.prototype.drShiftTo=L,m.prototype.lShiftTo=H,m.prototype.rShiftTo=W,m.prototype.subTo=Y,m.prototype.multiplyTo=J,m.prototype.squareTo=G,m.prototype.divRemTo=$,m.prototype.invDigit=Z,m.prototype.addTo=X,m.prototype.toString=F,m.prototype.negate=M,m.prototype.abs=N,m.prototype.compareTo=B,m.prototype.bitLength=V,m.prototype.mod=z,m.prototype.equals=Q,m.prototype.add=tt,m.prototype.subtract=et,m.prototype.multiply=nt,m.prototype.divide=rt,m.prototype.modPow=lt,m.ZERO=k(0),m.ONE=k(1);var dt=/^[89a-f]/i,ht="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",pt="userAttributes.",gt=function(){function t(t){this.N=new g(ht,16),this.g=new g("2",16),this.k=new g(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=i["Buffer"].from("Caldera Derived Key","utf8"),this.poolName=t}var e=t.prototype;return e.getSmallAValue=function(){return this.smallAValue},e.getLargeAValue=function(t){var e=this;this.largeAValue?t(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&t(n,null),e.largeAValue=r,t(null,e.largeAValue)}))},e.generateRandomSmallA=function(){var t=ft(128).toString("hex"),e=new g(t,16);return e},e.generateRandomString=function(){return ft(40).toString("base64")},e.getRandomPassword=function(){return this.randomPassword},e.getSaltDevices=function(){return this.SaltToHashDevices},e.getVerifierDevices=function(){return this.verifierDevices},e.generateHashDevice=function(t,e,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+t+e+":"+this.randomPassword,s=this.hash(i),a=ft(16).toString("hex");this.SaltToHashDevices=this.padHex(new g(a,16)),this.g.modPow(new g(this.hexHash(this.SaltToHashDevices+s),16),this.N,(function(t,e){t&&n(t,null),r.verifierDevices=r.padHex(e),n(null,null)}))},e.calculateA=function(t,e){var n=this;this.g.modPow(t,this.N,(function(t,r){t&&e(t,null),r.mod(n.N).equals(g.ZERO)&&e(new Error("Illegal paramater. A mod N cannot be 0."),null),e(null,r)}))},e.calculateU=function(t,e){this.UHexHash=this.hexHash(this.padHex(t)+this.padHex(e));var n=new g(this.UHexHash,16);return n},e.hash=function(t){var e=t instanceof i["Buffer"]?a.a.lib.WordArray.create(t):t,n=c()(e).toString();return new Array(64-n.length).join("0")+n},e.hexHash=function(t){return this.hash(i["Buffer"].from(t,"hex"))},e.computehkdf=function(t,e){var n=a.a.lib.WordArray.create(i["Buffer"].concat([this.infoBits,i["Buffer"].from(String.fromCharCode(1),"utf8")])),r=t instanceof i["Buffer"]?a.a.lib.WordArray.create(t):t,s=e instanceof i["Buffer"]?a.a.lib.WordArray.create(e):e,o=l()(r,s),c=l()(n,o);return i["Buffer"].from(c.toString(),"hex").slice(0,16)},e.getPasswordAuthenticationKey=function(t,e,n,r,s){var a=this;if(n.mod(this.N).equals(g.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(g.ZERO))throw new Error("U cannot be zero.");var o=""+this.poolName+t+":"+e,c=this.hash(o),u=new g(this.hexHash(this.padHex(r)+c),16);this.calculateS(u,n,(function(t,e){t&&s(t,null);var n=a.computehkdf(i["Buffer"].from(a.padHex(e),"hex"),i["Buffer"].from(a.padHex(a.UValue),"hex"));s(null,n)}))},e.calculateS=function(t,e,n){var r=this;this.g.modPow(t,this.N,(function(i,s){i&&n(i,null);var a=e.subtract(r.k.multiply(s));a.modPow(r.smallAValue.add(r.UValue.multiply(t)),r.N,(function(t,e){t&&n(t,null),n(null,e.mod(r.N))}))}))},e.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return pt},e.padHex=function(t){if(!(t instanceof g))throw new Error("Not a BigInteger");var e=t.compareTo(g.ZERO)<0,n=t.abs().toString(16);if(n=n.length%2!==0?"0"+n:n,n=dt.test(n)?"00"+n:n,e){var r=n.split("").map((function(t){var e=15&~parseInt(t,16);return"0123456789ABCDEF".charAt(e)})).join(""),i=new g(r,16).add(g.ONE);n=i.toString(16),n.toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},t}(),mt=function(){function t(t){this.jwtToken=t||"",this.payload=this.decodePayload()}var e=t.prototype;return e.getJwtToken=function(){return this.jwtToken},e.getExpiration=function(){return this.payload.exp},e.getIssuedAt=function(){return this.payload.iat},e.decodePayload=function(){var t=this.jwtToken.split(".")[1];try{return JSON.parse(i["Buffer"].from(t,"base64").toString("utf8"))}catch(e){return{}}},t}();function vt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,yt(t,e)}function yt(t,e){return yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yt(t,e)}var bt=function(t){function e(e){var n=void 0===e?{}:e,r=n.AccessToken;return t.call(this,r||"")||this}return vt(e,t),e}(mt);function _t(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,St(t,e)}function St(t,e){return St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},St(t,e)}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var Ct=function(t){function e(e){var n=void 0===e?{}:e,r=n.IdToken;return t.call(this,r||"")||this}return _t(e,t),e}(mt),wt=function(){function t(t){var e=void 0===t?{}:t,n=e.RefreshToken;this.token=n||""}var e=t.prototype;return e.getToken=function(){return this.token},t}(),Tt=n("1132"),Ot=n.n(Tt),Dt=function(){function t(t){var e=void 0===t?{}:t,n=e.IdToken,r=e.RefreshToken,i=e.AccessToken,s=e.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===s?this.calculateClockDrift():s}var e=t.prototype;return e.getIdToken=function(){return this.idToken},e.getRefreshToken=function(){return this.refreshToken},e.getAccessToken=function(){return this.accessToken},e.getClockDrift=function(){return this.clockDrift},e.calculateClockDrift=function(){var t=Math.floor(new Date/1e3),e=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return t-e},e.isValid=function(){var t=Math.floor(new Date/1e3),e=t-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},t}(),Et=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],At=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],It=function(){function t(){}var e=t.prototype;return e.getNowString=function(){var t=new Date,e=At[t.getUTCDay()],n=Et[t.getUTCMonth()],r=t.getUTCDate(),i=t.getUTCHours();i<10&&(i="0"+i);var s=t.getUTCMinutes();s<10&&(s="0"+s);var a=t.getUTCSeconds();a<10&&(a="0"+a);var o=t.getUTCFullYear(),c=e+" "+n+" "+r+" "+i+":"+s+":"+a+" UTC "+o;return c},t}(),Ut=function(){function t(t){var e=void 0===t?{}:t,n=e.Name,r=e.Value;this.Name=n||"",this.Value=r||""}var e=t.prototype;return e.getValue=function(){return this.Value},e.setValue=function(t){return this.Value=t,this},e.getName=function(){return this.Name},e.setName=function(t){return this.Name=t,this},e.toString=function(){return JSON.stringify(this)},e.toJSON=function(){return{Name:this.Name,Value:this.Value}},t}(),jt={},xt=function(){function t(){}return t.setItem=function(t,e){return jt[t]=e,jt[t]},t.getItem=function(t){return Object.prototype.hasOwnProperty.call(jt,t)?jt[t]:void 0},t.removeItem=function(t){return delete jt[t]},t.clear=function(){return jt={},jt},t}(),kt=function(){function t(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(t){this.storageWindow=xt}}var e=t.prototype;return e.getStorage=function(){return this.storageWindow},t}(),Rt="undefined"!==typeof navigator,Pt=Rt?navigator.userAgent:"nodejs",Ft=function(){function t(t){if(null==t||null==t.Username||null==t.Pool)throw new Error("Username and Pool information are required.");this.username=t.Username||"",this.pool=t.Pool,this.Session=null,this.client=t.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=t.Storage||(new kt).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var e=t.prototype;return e.setSignInUserSession=function(t){this.clearCachedUserData(),this.signInUserSession=t,this.cacheTokens()},e.getSignInUserSession=function(){return this.signInUserSession},e.getUsername=function(){return this.username},e.getAuthenticationFlowType=function(){return this.authenticationFlowType},e.setAuthenticationFlowType=function(t){this.authenticationFlowType=t},e.initiateAuth=function(t,e){var n=this,r=t.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),s={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",s,(function(t,r){if(t)return e.onFailure(t);var i=r.ChallengeName,s=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,e.customChallenge(s)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))},e.authenticateUser=function(t,e){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(t,e):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(t,e):e.onFailure(new Error("Authentication flow type is invalid."))},e.authenticateUserDefaultAuth=function(t,e){var n,r,s=this,o=new gt(this.pool.getUserPoolId().split("_")[1]),c=new It,u={};null!=this.deviceKey&&(u.DEVICE_KEY=this.deviceKey),u.USERNAME=this.username,o.getLargeAValue((function(f,d){f&&e.onFailure(f),u.SRP_A=d.toString(16),"CUSTOM_AUTH"===s.authenticationFlowType&&(u.CHALLENGE_NAME="SRP_A");var h=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),p={AuthFlow:s.authenticationFlowType,ClientId:s.pool.getClientId(),AuthParameters:u,ClientMetadata:h};s.getUserContextData(s.username)&&(p.UserContextData=s.getUserContextData(s.username)),s.client.request("InitiateAuth",p,(function(u,f){if(u)return e.onFailure(u);var d=f.ChallengeParameters;s.username=d.USER_ID_FOR_SRP,s.userDataKey=s.keyPrefix+"."+s.username+".userData",n=new g(d.SRP_B,16),r=new g(d.SALT,16),s.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(s.username,t.getPassword(),n,r,(function(t,n){t&&e.onFailure(t);var r=c.getNowString(),u=a.a.lib.WordArray.create(i["Buffer"].concat([i["Buffer"].from(s.pool.getUserPoolId().split("_")[1],"utf8"),i["Buffer"].from(s.username,"utf8"),i["Buffer"].from(d.SECRET_BLOCK,"base64"),i["Buffer"].from(r,"utf8")])),p=a.a.lib.WordArray.create(n),g=Ot.a.stringify(l()(u,p)),m={};m.USERNAME=s.username,m.PASSWORD_CLAIM_SECRET_BLOCK=d.SECRET_BLOCK,m.TIMESTAMP=r,m.PASSWORD_CLAIM_SIGNATURE=g,null!=s.deviceKey&&(m.DEVICE_KEY=s.deviceKey);var v=function t(e,n){return s.client.request("RespondToAuthChallenge",e,(function(r,i){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(m.DEVICE_KEY=null,s.deviceKey=null,s.randomPassword=null,s.deviceGroupKey=null,s.clearCachedDeviceKeyAndPassword(),t(e,n)):n(r,i)}))},y={ChallengeName:"PASSWORD_VERIFIER",ClientId:s.pool.getClientId(),ChallengeResponses:m,Session:f.Session,ClientMetadata:h};s.getUserContextData()&&(y.UserContextData=s.getUserContextData()),v(y,(function(t,n){return t?e.onFailure(t):s.authenticateUserInternal(n,o,e)}))}))}))}))},e.authenticateUserPlainUsernamePassword=function(t,e){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=t.getPassword(),r.PASSWORD){var i=new gt(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var s=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:s};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(t,r){return t?e.onFailure(t):n.authenticateUserInternal(r,i,e)}))}else e.onFailure(new Error("PASSWORD parameter is required"))},e.authenticateUserInternal=function(t,e,n){var r=this,s=t.ChallengeName,a=t.ChallengeParameters;if("SMS_MFA"===s)return this.Session=t.Session,n.mfaRequired(s,a);if("SELECT_MFA_TYPE"===s)return this.Session=t.Session,n.selectMFAType(s,a);if("MFA_SETUP"===s)return this.Session=t.Session,n.mfaSetup(s,a);if("SOFTWARE_TOKEN_MFA"===s)return this.Session=t.Session,n.totpRequired(s,a);if("CUSTOM_CHALLENGE"===s)return this.Session=t.Session,n.customChallenge(a);if("NEW_PASSWORD_REQUIRED"===s){this.Session=t.Session;var o=null,c=null,u=[],l=e.getNewPasswordRequiredChallengeUserAttributePrefix();if(a&&(o=JSON.parse(t.ChallengeParameters.userAttributes),c=JSON.parse(t.ChallengeParameters.requiredAttributes)),c)for(var f=0;f<c.length;f++)u[f]=c[f].substr(l.length);return n.newPasswordRequired(o,u)}if("DEVICE_SRP_AUTH"!==s){this.signInUserSession=this.getCognitoUserSession(t.AuthenticationResult),this.challengeName=s,this.cacheTokens();var d=t.AuthenticationResult.NewDeviceMetadata;if(null==d)return n.onSuccess(this.signInUserSession);e.generateHashDevice(t.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,t.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(s){if(s)return n.onFailure(s);var a={Salt:i["Buffer"].from(e.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:i["Buffer"].from(e.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=a.PasswordVerifier,r.deviceGroupKey=d.DeviceGroupKey,r.randomPassword=e.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:d.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:a,DeviceName:Pt},(function(e,i){return e?n.onFailure(e):(r.deviceKey=t.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))}else this.getDeviceResponse(n)},e.completeNewPasswordChallenge=function(t,e,n,r){var i=this;if(!t)return n.onFailure(new Error("New password is required."));var s=new gt(this.pool.getUserPoolId().split("_")[1]),a=s.getNewPasswordRequiredChallengeUserAttributePrefix(),o={};e&&Object.keys(e).forEach((function(t){o[a+t]=e[t]})),o.NEW_PASSWORD=t,o.USERNAME=this.username;var c={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:o,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",c,(function(t,e){return t?n.onFailure(t):i.authenticateUserInternal(e,s,n)}))},e.getDeviceResponse=function(t,e){var n=this,r=new gt(this.deviceGroupKey),s=new It,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(c,u){c&&t.onFailure(c),o.SRP_A=u.toString(16);var f={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:o,ClientMetadata:e};n.getUserContextData()&&(f.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",f,(function(e,o){if(e)return t.onFailure(e);var c=o.ChallengeParameters,u=new g(c.SRP_B,16),f=new g(c.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,u,f,(function(e,r){if(e)return t.onFailure(e);var u=s.getNowString(),f=a.a.lib.WordArray.create(i["Buffer"].concat([i["Buffer"].from(n.deviceGroupKey,"utf8"),i["Buffer"].from(n.deviceKey,"utf8"),i["Buffer"].from(c.SECRET_BLOCK,"base64"),i["Buffer"].from(u,"utf8")])),d=a.a.lib.WordArray.create(r),h=Ot.a.stringify(l()(f,d)),p={};p.USERNAME=n.username,p.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,p.TIMESTAMP=u,p.PASSWORD_CLAIM_SIGNATURE=h,p.DEVICE_KEY=n.deviceKey;var g={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:p,Session:o.Session};n.getUserContextData()&&(g.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",g,(function(e,r){return e?t.onFailure(e):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))}))}))}))},e.confirmRegistration=function(t,e,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:t,Username:this.username,ForceAliasCreation:e,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(t){return t?n(t,null):n(null,"SUCCESS")}))},e.sendCustomChallengeAnswer=function(t,e,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=t;var s=new gt(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(t,n){return t?e.onFailure(t):r.authenticateUserInternal(n,s,e)}))},e.sendMFACode=function(t,e,n,r){var s=this,a={};a.USERNAME=this.username,a.SMS_MFA_CODE=t;var o=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===o&&(a.SOFTWARE_TOKEN_MFA_CODE=t),null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey);var c={ChallengeName:o,ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",c,(function(t,n){if(t)return e.onFailure(t);var r=n.ChallengeName;if("DEVICE_SRP_AUTH"!==r){if(s.signInUserSession=s.getCognitoUserSession(n.AuthenticationResult),s.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return e.onSuccess(s.signInUserSession);var a=new gt(s.pool.getUserPoolId().split("_")[1]);a.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(t){if(t)return e.onFailure(t);var r={Salt:i["Buffer"].from(a.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:i["Buffer"].from(a.getVerifierDevices(),"hex").toString("base64")};s.verifierDevices=r.PasswordVerifier,s.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,s.randomPassword=a.getRandomPassword(),s.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:s.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:r,DeviceName:Pt},(function(t,r){return t?e.onFailure(t):(s.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,s.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?e.onSuccess(s.signInUserSession,r.UserConfirmationNecessary):e.onSuccess(s.signInUserSession))}))}))}else s.getDeviceResponse(e)}))},e.changePassword=function(t,e,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:t,ProposedPassword:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(t){return t?n(t,null):n(null,"SUCCESS")}))},e.enableMFA=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);var e=[],n={DeliveryMedium:"SMS",AttributeName:"phone_number"};e.push(n),this.client.request("SetUserSettings",{MFAOptions:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):t(null,"SUCCESS")}))},e.setUserMfaPreference=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:t,SoftwareTokenMfaSettings:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?n(t,null):n(null,"SUCCESS")}))},e.disableMFA=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);var e=[];this.client.request("SetUserSettings",{MFAOptions:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):t(null,"SUCCESS")}))},e.deleteUser=function(t,e){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:e},(function(e){return e?t(e,null):(n.clearCachedUser(),t(null,"SUCCESS"))}))},e.updateAttributes=function(t,e,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:t,ClientMetadata:n},(function(t){return t?e(t,null):r.getUserData((function(){return e(null,"SUCCESS")}),{bypassCache:!0})}))},e.getUserAttributes=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e,n){if(e)return t(e,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var s={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},a=new Ut(s);r.push(a)}return t(null,r)}))},e.getMFAOptions=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e,n){return e?t(e,null):t(null,n.MFAOptions)}))},e.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},e.refreshSessionIfPossible=function(t){var e=this;return void 0===t&&(t={}),new Promise((function(n){var r=e.signInUserSession.getRefreshToken();r&&r.getToken()?e.refreshSession(r,n,t.clientMetadata):n()}))},e.getUserData=function(t,e){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),t(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(e))this.fetchUserData().then((function(t){return n.refreshSessionIfPossible(e).then((function(){return t}))})).then((function(e){return t(null,e)}))["catch"](t);else try{return void t(null,JSON.parse(r))}catch(i){return this.clearCachedUserData(),void t(i,null)}else this.fetchUserData().then((function(e){t(null,e)}))["catch"](t)},e.getUserDataFromCache=function(){var t=this.storage.getItem(this.userDataKey);return t},e.isFetchUserDataAndTokenRequired=function(t){var e=t||{},n=e.bypassCache,r=void 0!==n&&n;return r},e.fetchUserData=function(){var t=this;return this.createGetUserRequest().then((function(e){return t.cacheUserData(e),e}))},e.deleteAttributes=function(t,e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},e.resendConfirmationCode=function(t,e){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:e};this.client.request("ResendConfirmationCode",n,(function(e,n){return e?t(e,null):t(null,n)}))},e.getSession=function(t,e){if(void 0===e&&(e={}),null==this.username)return t(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return t(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",s=n+".refreshToken",a=n+".clockDrift";if(this.storage.getItem(r)){var o=new Ct({IdToken:this.storage.getItem(r)}),c=new bt({AccessToken:this.storage.getItem(i)}),u=new wt({RefreshToken:this.storage.getItem(s)}),l=parseInt(this.storage.getItem(a),0)||0,f={IdToken:o,AccessToken:c,RefreshToken:u,ClockDrift:l},d=new Dt(f);if(d.isValid())return this.signInUserSession=d,t(null,this.signInUserSession);if(!u.getToken())return t(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(u,t,e.clientMetadata)}else t(new Error("Local storage is missing an ID Token, Please authenticate"),null)},e.refreshSession=function(t,e,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(e):e,s={};s.REFRESH_TOKEN=t.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),o=a+".LastAuthUser";if(this.storage.getItem(o)){this.username=this.storage.getItem(o);var c=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(c),s.DEVICE_KEY=this.deviceKey}var u={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:s,ClientMetadata:n};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",u,(function(e,n){if(e)return"NotAuthorizedException"===e.code&&r.clearCachedUser(),i(e,null);if(n){var s=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(s,"RefreshToken")||(s.RefreshToken=t.getToken()),r.signInUserSession=r.getCognitoUserSession(s),r.cacheTokens(),i(null,r.signInUserSession)}}))},e.cacheTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),e=t+"."+this.username+".idToken",n=t+"."+this.username+".accessToken",r=t+"."+this.username+".refreshToken",i=t+"."+this.username+".clockDrift",s=t+".LastAuthUser";this.storage.setItem(e,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(s,this.username)},e.cacheUserData=function(t){this.storage.setItem(this.userDataKey,JSON.stringify(t))},e.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},e.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},e.cacheDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,e=t+".deviceKey",n=t+".randomPasswordKey",r=t+".deviceGroupKey";this.storage.setItem(e,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},e.getCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,e=t+".deviceKey",n=t+".randomPasswordKey",r=t+".deviceGroupKey";this.storage.getItem(e)&&(this.deviceKey=this.storage.getItem(e),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},e.clearCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,e=t+".deviceKey",n=t+".randomPasswordKey",r=t+".deviceGroupKey";this.storage.removeItem(e),this.storage.removeItem(n),this.storage.removeItem(r)},e.clearCachedTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),e=t+"."+this.username+".idToken",n=t+"."+this.username+".accessToken",r=t+"."+this.username+".refreshToken",i=t+".LastAuthUser",s=t+"."+this.username+".clockDrift";this.storage.removeItem(e),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(s)},e.getCognitoUserSession=function(t){var e=new Ct(t),n=new bt(t),r=new wt(t),i={IdToken:e,AccessToken:n,RefreshToken:r};return new Dt(i)},e.forgotPassword=function(t,e){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:e};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(e,n){return e?t.onFailure(e):"function"===typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess(n)}))},e.confirmPassword=function(t,e,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:t,Password:e,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(t){return t?n.onFailure(t):n.onSuccess()}))},e.getAttributeVerificationCode=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(t,n){return t?e.onFailure(t):"function"===typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess()}))},e.verifyAttribute=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:t,Code:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?n.onFailure(t):n.onSuccess("SUCCESS")}))},e.getDevice=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(e,n){return e?t.onFailure(e):t.onSuccess(n)}))},e.forgetSpecificDevice=function(t,e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:t},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},e.forgetDevice=function(t){var e=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:t.onFailure,onSuccess:function(n){return e.deviceKey=null,e.deviceGroupKey=null,e.randomPassword=null,e.clearCachedDeviceKeyAndPassword(),t.onSuccess(n)}})},e.setDeviceStatusRemembered=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},e.setDeviceStatusNotRemembered=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},e.listDevices=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:t};e&&(r.PaginationToken=e),this.client.request("ListDevices",r,(function(t,e){return t?n.onFailure(t):n.onSuccess(e)}))},e.globalSignOut=function(t){var e=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?t.onFailure(n):(e.clearCachedUser(),t.onSuccess("SUCCESS"))}))},e.signOut=function(){this.signInUserSession=null,this.clearCachedUser()},e.sendMFASelectionAnswer=function(t,e){var n=this,r={};r.USERNAME=this.username,r.ANSWER=t;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?e.onFailure(r):(n.Session=i.Session,"SMS_MFA"===t?e.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===t?e.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},e.getUserContextData=function(){var t=this.pool;return t.getUserContextData(this.username)},e.associateSoftwareToken=function(t){var e=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e,n){return e?t.onFailure(e):t.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?t.onFailure(n):(e.Session=r.Session,t.associateSecretCode(r.SecretCode))}))},e.verifySoftwareToken=function(t,e,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:t,FriendlyDeviceName:e},(function(t,e){return t?n.onFailure(t):n.onSuccess(e)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:t,FriendlyDeviceName:e},(function(t,e){if(t)return n.onFailure(t);r.Session=e.Session;var i={};i.USERNAME=r.username;var s={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(s.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",s,(function(t,e){return t?n.onFailure(t):(r.signInUserSession=r.getCognitoUserSession(e.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},t}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */n("ce08");function Mt(){}Mt.prototype.userAgent="aws-amplify/0.1.x js";var Nt=Mt;function Bt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ht(t,e)}function qt(t){var e="function"===typeof Map?new Map:void 0;return qt=function(t){if(null===t||!Lt(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Vt(t,arguments,Wt(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ht(n,t)},qt(t)}function Vt(t,e,n){return Vt=Kt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=Function.bind.apply(t,r),s=new i;return n&&Ht(s,n.prototype),s},Vt.apply(null,arguments)}function Kt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Lt(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function Ht(t,e){return Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ht(t,e)}function Wt(t){return Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wt(t)}var Yt=function(t){function e(e,n,r,i){var s;return s=t.call(this,e)||this,s.code=n,s.name=r,s.statusCode=i,s}return Bt(e,t),e}(qt(Error)),Jt=function(){function t(t,e,n){this.endpoint=e||"https://cognito-idp."+t+".amazonaws.com/";var r=n||{},i=r.credentials;this.fetchOptions=i?{credentials:i}:{}}var e=t.prototype;return e.promisifyRequest=function(t,e){var n=this;return new Promise((function(r,i){n.request(t,e,(function(t,e){t?i(new Yt(t.message,t.code,t.name,t.statusCode)):r(e)}))}))},e.request=function(t,e,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+t,"X-Amz-User-Agent":Nt.prototype.userAgent},s=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(e)});fetch(this.endpoint,s).then((function(t){return r=t,t}),(function(t){if(t instanceof TypeError)throw new Error("Network error");throw t})).then((function(t){return t.json()["catch"]((function(){return{}}))})).then((function(t){if(r.ok)return n(null,t);t;var e=(t.__type||t.code).split("#").pop(),i={code:e,name:e,message:t.message||t.Message||null};return n(i)}))["catch"]((function(t){if(!(r&&r.headers&&r.headers.get("x-amzn-errortype"))){if(t instanceof Error&&"Network error"===t.message){var e={code:"NetworkError",name:t.name,message:t.message};return n(e)}return n(t)}try{var i=r.headers.get("x-amzn-errortype").split(":")[0],s={code:i,name:i,statusCode:r.status,message:r.status?r.status.toString():null};return n(s)}catch(a){return n(t)}}))},t}(),Gt=function(){function t(t,e){var n=t||{},r=n.UserPoolId,i=n.ClientId,s=n.endpoint,a=n.fetchOptions,o=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(!/^[\w-]+_.+$/.test(r))throw new Error("Invalid UserPoolId format.");var c=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new Jt(c,s,a),this.advancedSecurityDataCollectionFlag=!1!==o,this.storage=t.Storage||(new kt).getStorage(),e&&(this.wrapRefreshSessionCallback=e)}var e=t.prototype;return e.getUserPoolId=function(){return this.userPoolId},e.getClientId=function(){return this.clientId},e.signUp=function(t,e,n,r,i,s){var a=this,o={ClientId:this.clientId,Username:t,Password:e,UserAttributes:n,ValidationData:r,ClientMetadata:s};this.getUserContextData(t)&&(o.UserContextData=this.getUserContextData(t)),this.client.request("SignUp",o,(function(e,n){if(e)return i(e,null);var r={Username:t,Pool:a,Storage:a.storage},s={user:new Ft(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,s)}))},e.getCurrentUser=function(){var t="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",e=this.storage.getItem(t);if(e){var n={Username:e,Pool:this,Storage:this.storage};return new Ft(n)}return null},e.getUserContextData=function(t){if("undefined"!==typeof AmazonCognitoAdvancedSecurityData){var e=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=e.getData(t,this.userPoolId,this.clientId);if(n){var r={EncodedData:n};return r}}return{}}},t}(),$t=n("a78e"),zt=function(){function t(t){if(!t.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=t.domain,t.path?this.path=t.path:this.path="/",Object.prototype.hasOwnProperty.call(t,"expires")?this.expires=t.expires:this.expires=365,Object.prototype.hasOwnProperty.call(t,"secure")?this.secure=t.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(t,"sameSite")){if(!["strict","lax","none"].includes(t.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===t.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=t.sameSite}else this.sameSite=null}var e=t.prototype;return e.setItem=function(t,e){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),$t["set"](t,e,n),$t["get"](t)},e.getItem=function(t){return $t["get"](t)},e.removeItem=function(t){var e={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(e.sameSite=this.sameSite),$t["remove"](t,e)},e.clear=function(){for(var t=$t["get"](),e=Object.keys(t).length,n=0;n<e;++n)this.removeItem(Object.keys(t)[n]);return{}},t}()},"509f":function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return d}));var r=n("9ab4"),i=n("f4fc"),s=n("3437"),a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function o(t){return"http"===t||"https"===t}function c(t,e){void 0===e&&(e=!1);var n=t.host,r=t.path,i=t.pass,s=t.port,a=t.projectId,o=t.protocol,c=t.publicKey;return o+"://"+c+(e&&i?":"+i:"")+"@"+n+(s?":"+s:"")+"/"+(r?r+"/":r)+a}function u(t){var e=a.exec(t);if(!e)throw new i["a"]("Invalid Sentry Dsn: "+t);var n=Object(r["__read"])(e.slice(1),6),s=n[0],o=n[1],c=n[2],u=void 0===c?"":c,f=n[3],d=n[4],h=void 0===d?"":d,p=n[5],g="",m=p,v=m.split("/");if(v.length>1&&(g=v.slice(0,-1).join("/"),m=v.pop()),m){var y=m.match(/^\d+/);y&&(m=y[0])}return l({host:f,pass:u,path:g,projectId:m,port:h,protocol:s,publicKey:o})}function l(t){return"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),{user:t.publicKey||"",protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function f(t){if(s["a"]){var e=t.port,n=t.projectId,r=t.protocol,a=["protocol","publicKey","host","projectId"];if(a.forEach((function(e){if(!t[e])throw new i["a"]("Invalid Sentry Dsn: "+e+" missing")})),!n.match(/^\d+$/))throw new i["a"]("Invalid Sentry Dsn: Invalid projectId "+n);if(!o(r))throw new i["a"]("Invalid Sentry Dsn: Invalid protocol "+r);if(e&&isNaN(parseInt(e,10)))throw new i["a"]("Invalid Sentry Dsn: Invalid port "+e);return!0}}function d(t){var e="string"===typeof t?u(t):l(t);return f(e),e}},5964:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r="finishReason",i=["heartbeatFailed","idleTimeout","documentHidden"]},"5ec5":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("f4fc"),i=n("1d1e");function s(t){var e=[];function n(){return void 0===t||e.length<t}function s(t){return e.splice(e.indexOf(t),1)[0]}function a(t){if(!n())return Object(i["b"])(new r["a"]("Not adding Promise due to buffer limit reached."));var a=t();return-1===e.indexOf(a)&&e.push(a),a.then((function(){return s(a)})).then(null,(function(){return s(a).then(null,(function(){}))})),a}function o(t){return new i["a"]((function(n,r){var s=e.length;if(!s)return n(!0);var a=setTimeout((function(){t&&t>0&&n(!1)}),t);e.forEach((function(t){Object(i["c"])(t).then((function(){--s||(clearTimeout(a),n(!0))}),r)}))}))}return{$:e,add:a,drain:o}}},6472:function(t,e,n){},"688d":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={};n.r(r),n.d(r,"Express",(function(){return c})),n.d(r,"Postgres",(function(){return m})),n.d(r,"Mysql",(function(){return v})),n.d(r,"Mongo",(function(){return _})),n.d(r,"BrowserTracing",(function(){return lt}));var i=n("0a9b"),s=n("9ab4"),a=n("f0b6"),o=n("8bac"),c=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){this._router?d(this._router,this._methods):o["a"]&&a["c"].error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function u(t,e){var n=t.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var s=i.startChild({description:t.name,op:"express.middleware."+e});r.once("finish",(function(){s.finish()}))}return t.call(this,n,r)};case 3:return function(n,r,i){var a,o=r.__sentry_transaction,c=null===(a=o)||void 0===a?void 0:a.startChild({description:t.name,op:"express.middleware."+e});t.call(this,n,r,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=c)||void 0===t||t.finish(),i.call.apply(i,Object(s["__spread"])([this],e))}))};case 4:return function(n,r,i,a){var o,c=i.__sentry_transaction,u=null===(o=c)||void 0===o?void 0:o.startChild({description:t.name,op:"express.middleware."+e});t.call(this,n,r,i,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=u)||void 0===t||t.finish(),a.call.apply(a,Object(s["__spread"])([this],e))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function l(t,e){return t.map((function(t){return"function"===typeof t?u(t,e):Array.isArray(t)?t.map((function(t){return"function"===typeof t?u(t,e):t})):t}))}function f(t,e){var n=t[e];return t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.call.apply(n,Object(s["__spread"])([this],l(t,e)))},t}function d(t,e){void 0===e&&(e=[]),e.forEach((function(e){return f(t,e)}))}var h=n("f80d"),p=n("e8f5"),g=n("f404"),m=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._usePgNative=!!e.usePgNative}return t.prototype.setupOnce=function(t,e){var n,r=Object(h["c"])("pg");if(r)if(!this._usePgNative||(null===(n=r.native)||void 0===n?void 0:n.Client)){var i=(this._usePgNative?r.native:r).Client;Object(p["e"])(i.prototype,"query",(function(t){return function(n,r,i){var s,a,o,c=e().getScope(),u=null===(s=c)||void 0===s?void 0:s.getSpan(),l=null===(a=u)||void 0===a?void 0:a.startChild({description:"string"===typeof n?n:n.text,op:"db"});if("function"===typeof i)return t.call(this,n,r,(function(t,e){var n;null===(n=l)||void 0===n||n.finish(),i(t,e)}));if("function"===typeof r)return t.call(this,n,(function(t,e){var n;null===(n=l)||void 0===n||n.finish(),r(t,e)}));var f="undefined"!==typeof r?t.call(this,n,r):t.call(this,n);return Object(g["n"])(f)?f.then((function(t){var e;return null===(e=l)||void 0===e||e.finish(),t})):(null===(o=l)||void 0===o||o.finish(),f)}}))}else o["a"]&&a["c"].error("Postgres Integration was unable to access 'pg-native' bindings.");else o["a"]&&a["c"].error("Postgres Integration was unable to require `pg` package.")},t.id="Postgres",t}(),v=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n=Object(h["c"])("mysql/lib/Connection.js");n?Object(p["e"])(n,"createQuery",(function(t){return function(n,r,i){var s,a,o=e().getScope(),c=null===(s=o)||void 0===s?void 0:s.getSpan(),u=null===(a=c)||void 0===a?void 0:a.startChild({description:"string"===typeof n?n:n.sql,op:"db"});return"function"===typeof i?t.call(this,n,r,(function(t,e,n){var r;null===(r=u)||void 0===r||r.finish(),i(t,e,n)})):"function"===typeof r?t.call(this,n,(function(t,e,n){var i;null===(i=u)||void 0===i||i.finish(),r(t,e,n)})):t.call(this,n,r,i)}})):o["a"]&&a["c"].error("Mysql Integration was unable to require `mysql` package.")},t.id="Mysql",t}(),y=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],b={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},_=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:y,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}return t.prototype.setupOnce=function(t,e){var n=this._useMongoose?"mongoose":"mongodb",r=Object(h["c"])(n);r?this._instrumentOperations(r.Collection,this._operations,e):o["a"]&&a["c"].error("Mongo Integration was unable to require `"+n+"` package.")},t.prototype._instrumentOperations=function(t,e,n){var r=this;e.forEach((function(e){return r._patchOperation(t,e,n)}))},t.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var r=this._getSpanContextFromOperationArguments.bind(this);Object(p["e"])(t.prototype,e,(function(t){return function(){for(var i,a,o,c,u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var f=u[u.length-1],d=n().getScope(),h=null===(i=d)||void 0===i?void 0:i.getSpan();if("function"!==typeof f||"mapReduce"===e&&2===u.length){var p=null===(a=h)||void 0===a?void 0:a.startChild(r(this,e,u)),m=t.call.apply(t,Object(s["__spread"])([this],u));return Object(g["n"])(m)?m.then((function(t){var e;return null===(e=p)||void 0===e||e.finish(),t})):(null===(o=p)||void 0===o||o.finish(),m)}var v=null===(c=h)||void 0===c?void 0:c.startChild(r(this,e,u.slice(0,-1)));return t.call.apply(t,Object(s["__spread"])([this],u.slice(0,-1),[function(t,e){var n;null===(n=v)||void 0===n||n.finish(),f(t,e)}]))}}))}},t.prototype._getSpanContextFromOperationArguments=function(t,e,n){var r={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},i={op:"db",description:e,data:r},a=b[e],o=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!a||!o)return i;try{if("mapReduce"===e){var c=Object(s["__read"])(n,2),u=c[0],l=c[1];r[a[0]]="string"===typeof u?u:u.name||"<anonymous>",r[a[1]]="string"===typeof l?l:l.name||"<anonymous>"}else for(var f=0;f<a.length;f++)r[a[f]]=JSON.stringify(n[f])}catch(d){}return i},t.id="Mongo",t}(),S=n("cfe4"),C=n("3016"),w=n("1461"),T=n("f324"),O=n("5964"),D=Object(S["a"])();function E(){D&&D.document?D.document.addEventListener("visibilitychange",(function(){var t=Object(w["a"])();if(D.document.hidden&&t){var e="cancelled";o["a"]&&a["c"].log("[Tracing] Transaction: "+e+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.setTag(O["a"],O["b"][2]),t.finish()}})):o["a"]&&a["c"].warn("[Tracing] Could not set up background tab detection due to lack of global document")}var A=n("91db"),I=n("bc5b"),U=function(t,e,n){var r;return function(i){e.value>=0&&(i||n)&&(e.delta=e.value-(r||0),(e.delta||void 0===r)&&(r=e.value,t(e)))}},j=function(){return"v2-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12)},x=function(t,e){return{name:t,value:null!==e&&void 0!==e?e:-1,delta:0,entries:[],id:j()}},k=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(r){}},R=function(t,e){var n=function(r){"pagehide"!==r.type&&"hidden"!==Object(S["a"])().document.visibilityState||(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},P=function(t,e){var n,r=x("CLS",0),i=0,s=[],a=function(t){if(t&&!t.hadRecentInput){var e=s[0],a=s[s.length-1];i&&0!==s.length&&t.startTime-a.startTime<1e3&&t.startTime-e.startTime<5e3?(i+=t.value,s.push(t)):(i=t.value,s=[t]),i>r.value&&(r.value=i,r.entries=s,n&&n())}},o=k("layout-shift",a);o&&(n=U(t,r,e),R((function(){o.takeRecords().map(a),n(!0)})))},F=-1,M=function(){return"hidden"===Object(S["a"])().document.visibilityState?0:1/0},N=function(){R((function(t){var e=t.timeStamp;F=e}),!0)},B=function(){return F<0&&(F=M(),N()),{get firstHiddenTime(){return F}}},q=function(t,e){var n,r=B(),i=x("FID"),s=function(t){n&&t.startTime<r.firstHiddenTime&&(i.value=t.processingStart-t.startTime,i.entries.push(t),n(!0))},a=k("first-input",s);a&&(n=U(t,i,e),R((function(){a.takeRecords().map(s),a.disconnect()}),!0))},V={},K=function(t,e){var n,r=B(),i=x("LCP"),s=function(t){var e=t.startTime;e<r.firstHiddenTime&&(i.value=e,i.entries.push(t)),n&&n()},a=k("largest-contentful-paint",s);if(a){n=U(t,i,e);var o=function(){V[i.id]||(a.takeRecords().map(s),a.disconnect(),V[i.id]=!0,n(!0))};["keydown","click"].forEach((function(t){addEventListener(t,o,{once:!0,capture:!0})})),R(o,!0)}},L=Object(S["a"])(),H=function(){function t(t){void 0===t&&(t=!1),this._reportAllChanges=t,this._measurements={},this._performanceCursor=0,!Object(h["b"])()&&L&&L.performance&&L.document&&(L.performance.mark&&L.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(L&&L.performance&&L.performance.getEntries&&A["a"]){o["a"]&&a["c"].log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i=Object(w["c"])(A["a"]);if(L.performance.getEntries().slice(this._performanceCursor).forEach((function(s){var c=Object(w["c"])(s.startTime),u=Object(w["c"])(s.duration);if(!("navigation"===t.op&&i+c<t.startTimestamp))switch(s.entryType){case"navigation":W(t,s,i),n=i+Object(w["c"])(s.responseStart),r=i+Object(w["c"])(s.requestStart);break;case"mark":case"paint":case"measure":var l=Y(t,s,c,u,i),f=B(),d=s.startTime<f.firstHiddenTime;"first-paint"===s.name&&d&&(o["a"]&&a["c"].log("[Measurements] Adding FP"),e._measurements["fp"]={value:s.startTime},e._measurements["mark.fp"]={value:l}),"first-contentful-paint"===s.name&&d&&(o["a"]&&a["c"].log("[Measurements] Adding FCP"),e._measurements["fcp"]={value:s.startTime},e._measurements["mark.fcp"]={value:l});break;case"resource":var h=s.name.replace(L.location.origin,"");J(t,s,h,c,u,i);break;default:}})),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var s=Object(w["c"])(A["a"]);"number"===typeof n&&(o["a"]&&a["c"].log("[Measurements] Adding TTFB"),this._measurements["ttfb"]={value:1e3*(n-t.startTimestamp)},"number"===typeof r&&r<=n&&(this._measurements["ttfb.requestTime"]={value:1e3*(n-r)})),["fcp","fp","lcp"].forEach((function(n){if(e._measurements[n]&&!(s>=t.startTimestamp)){var r=e._measurements[n].value,i=s+Object(w["c"])(r),c=Math.abs(1e3*(i-t.startTimestamp)),u=c-r;o["a"]&&a["c"].log("[Measurements] Normalized "+n+" from "+r+" to "+c+" ("+u+")"),e._measurements[n].value=c}})),this._measurements["mark.fid"]&&this._measurements["fid"]&&z(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Object(w["c"])(this._measurements["fid"].value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),Q(t,this._lcpEntry,this._clsEntry),t.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},t.prototype._trackNavigator=function(t){var e=L.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Z(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Z(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Z(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),Z(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackCLS=function(){var t=this;P((function(e){var n=e.entries.pop();n&&(o["a"]&&a["c"].log("[Measurements] Adding CLS"),t._measurements["cls"]={value:e.value},t._clsEntry=n)}))},t.prototype._trackLCP=function(){var t=this;K((function(e){var n=e.entries.pop();if(n){var r=Object(w["c"])(A["a"]),i=Object(w["c"])(n.startTime);o["a"]&&a["c"].log("[Measurements] Adding LCP"),t._measurements["lcp"]={value:e.value},t._measurements["mark.lcp"]={value:r+i},t._lcpEntry=n}}),this._reportAllChanges)},t.prototype._trackFID=function(){var t=this;q((function(e){var n=e.entries.pop();if(n){var r=Object(w["c"])(A["a"]),i=Object(w["c"])(n.startTime);o["a"]&&a["c"].log("[Measurements] Adding FID"),t._measurements["fid"]={value:e.value},t._measurements["mark.fid"]={value:r+i}}}))},t}();function W(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(r){G(t,e,r,n)})),G(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),G(t,e,"fetch",n,"cache","domainLookupStart"),G(t,e,"domainLookup",n,"DNS"),$(t,e,n)}function Y(t,e,n,r,i){var s=i+n,a=s+r;return z(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:s}),s}function J(t,e,n,r,i,s){if("xmlhttprequest"!==e.initiatorType&&"fetch"!==e.initiatorType){var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var o=s+r,c=o+i;z(t,{description:n,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:o,data:a})}}function G(t,e,n,r,i,s){var a=s?e[s]:e[n+"End"],o=e[n+"Start"];o&&a&&z(t,{op:"browser",description:null!==i&&void 0!==i?i:n,startTimestamp:r+Object(w["c"])(o),endTimestamp:r+Object(w["c"])(a)})}function $(t,e,n){z(t,{op:"browser",description:"request",startTimestamp:n+Object(w["c"])(e.requestStart),endTimestamp:n+Object(w["c"])(e.responseEnd)}),z(t,{op:"browser",description:"response",startTimestamp:n+Object(w["c"])(e.responseStart),endTimestamp:n+Object(w["c"])(e.responseEnd)})}function z(t,e){var n=e.startTimestamp,r=Object(s["__rest"])(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(Object(s["__assign"])({startTimestamp:n},r))}function Z(t){return"number"===typeof t&&isFinite(t)}function Q(t,e,n){e&&(o["a"]&&a["c"].log("[Measurements] Adding LCP Data"),e.element&&t.setTag("lcp.element",Object(I["b"])(e.element)),e.id&&t.setTag("lcp.id",e.id),e.url&&t.setTag("lcp.url",e.url.trim().slice(0,200)),t.setTag("lcp.size",e.size)),n&&n.sources&&(o["a"]&&a["c"].log("[Measurements] Adding CLS Data"),n.sources.forEach((function(e,n){return t.setTag("cls.source."+(n+1),Object(I["b"])(e.node))})))}var X=n("fbdd"),tt=n("ea14"),et=["localhost",/^\//],nt={traceFetch:!0,traceXHR:!0,tracingOrigins:et};function rt(t){var e=Object(s["__assign"])(Object(s["__assign"])({},nt),t),n=e.traceFetch,r=e.traceXHR,i=e.tracingOrigins,a=e.shouldCreateSpanForRequest,o={},c=function(t){if(o[t])return o[t];var e=i;return o[t]=e.some((function(e){return Object(X["a"])(t,e)}))&&!Object(X["a"])(t,"sentry_key"),o[t]},u=c;"function"===typeof a&&(u=function(t){return c(t)&&a(t)});var l={};n&&Object(tt["a"])("fetch",(function(t){it(t,u,l)})),r&&Object(tt["a"])("xhr",(function(t){st(t,u,l)}))}function it(t,e,n){if(Object(w["b"])()&&t.fetchData&&e(t.fetchData.url))if(t.endTimestamp){var r=t.fetchData.__span;if(!r)return;var i=n[r];i&&(t.response?i.setHttpStatus(t.response.status):t.error&&i.setStatus("internal_error"),i.finish(),delete n[r])}else{var a=Object(w["a"])();if(a){i=a.startChild({data:Object(s["__assign"])(Object(s["__assign"])({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http.client"});t.fetchData.__span=i.spanId,n[i.spanId]=i;var o=t.args[0]=t.args[0],c=t.args[1]=t.args[1]||{},u=c.headers;Object(g["g"])(o,Request)&&(u=o.headers),u?"function"===typeof u.append?u.append("sentry-trace",i.toTraceparent()):u=Array.isArray(u)?Object(s["__spread"])(u,[["sentry-trace",i.toTraceparent()]]):Object(s["__assign"])(Object(s["__assign"])({},u),{"sentry-trace":i.toTraceparent()}):u={"sentry-trace":i.toTraceparent()},c.headers=u}}}function st(t,e,n){if(!(!Object(w["b"])()||t.xhr&&t.xhr.__sentry_own_request__)&&t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)){var r=t.xhr.__sentry_xhr__;if(t.endTimestamp){var i=t.xhr.__sentry_xhr_span_id__;if(!i)return;var a=n[i];a&&(a.setHttpStatus(r.status_code),a.finish(),delete n[i])}else{var o=Object(w["a"])();if(o){a=o.startChild({data:Object(s["__assign"])(Object(s["__assign"])({},r.data),{type:"xhr",method:r.method,url:r.url}),description:r.method+" "+r.url,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,n[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(c){}}}}}var at=Object(S["a"])();function ot(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),at&&at.location){var r,i=at.location.href;e&&(r=t({name:at.location.pathname,op:"pageload"})),n&&Object(tt["a"])("history",(function(e){var n=e.to,s=e.from;void 0===s&&i&&-1!==i.indexOf(n)?i=void 0:s!==n&&(i=void 0,r&&(o["a"]&&a["c"].log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:at.location.pathname,op:"navigation"}))}))}else o["a"]&&a["c"].warn("Could not initialize routing instrumentation due to invalid location")}var ct=600,ut=Object(s["__assign"])({idleTimeout:C["a"],markBackgroundTransactions:!0,maxTransactionDuration:ct,routingInstrumentation:ot,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},nt),lt=function(){function t(e){this.name=t.id,this._configuredIdleTimeout=void 0;var n=nt.tracingOrigins;e&&(this._configuredIdleTimeout=e.idleTimeout,e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:o["a"]&&(this._emitOptionsWarning=!0)),this.options=Object(s["__assign"])(Object(s["__assign"])(Object(s["__assign"])({},ut),e),{tracingOrigins:n});var r=this.options._metricOptions;this._metrics=new H(r&&r._reportAllChanges)}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(o["a"]&&a["c"].warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),o["a"]&&a["c"].warn("[Tracing] We added a reasonable default for you: "+nt.tracingOrigins));var r=this.options,i=r.routingInstrumentation,s=r.startTransactionOnLocationChange,c=r.startTransactionOnPageLoad,u=r.markBackgroundTransactions,l=r.traceFetch,f=r.traceXHR,d=r.tracingOrigins,h=r.shouldCreateSpanForRequest;i((function(t){return n._createRouteTransaction(t)}),c,s),u&&E(),rt({traceFetch:l,traceXHR:f,tracingOrigins:d,shouldCreateSpanForRequest:h})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,c=n.idleTimeout,u=n.maxTransactionDuration,l="pageload"===t.op?ft():void 0,f=Object(s["__assign"])(Object(s["__assign"])(Object(s["__assign"])({},t),l),{trimEnd:!0}),d="function"===typeof r?r(f):f,h=void 0===d?Object(s["__assign"])(Object(s["__assign"])({},f),{sampled:!1}):d;!1===h.sampled&&o["a"]&&a["c"].log("[Tracing] Will not send "+h.op+" transaction because of beforeNavigate."),o["a"]&&a["c"].log("[Tracing] Starting "+h.op+" transaction on scope");var p=this._getCurrentHub(),g=Object(S["a"])().location,m=Object(i["b"])(p,h,c,!0,{location:g});return m.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),ht(Object(w["d"])(u),t,n)})),m.setTag("idleTimeout",this._configuredIdleTimeout),m}o["a"]&&a["c"].warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();function ft(){var t=dt("sentry-trace");if(t)return Object(T["a"])(t)}function dt(t){var e=Object(S["a"])().document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}function ht(t,e,n){var r=n-e.startTimestamp,i=n&&(r>t||r<0);i&&(e.setStatus("deadline_exceeded"),e.setTag("maxTransactionDurationExceeded","true"))}Object(i["a"])()},"80c3":function(t,e,n){},"82dc":function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"f",(function(){return f})),n.d(e,"h",(function(){return d})),n.d(e,"j",(function(){return h})),n.d(e,"g",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"k",(function(){return m})),n.d(e,"m",(function(){return v})),n.d(e,"l",(function(){return y}));var r=n("9ab4"),i=n("956e");function s(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var s=Object(i["b"])();if(s&&s[t])return s[t].apply(s,Object(r["__spread"])(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function a(t,e){var n=new Error("Sentry syntheticException");return s("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function o(t,e){var n=new Error(t),i="string"===typeof e?e:void 0,a="string"!==typeof e?{captureContext:e}:void 0;return s("captureMessage",t,i,Object(r["__assign"])({originalException:t,syntheticException:n},a))}function c(t){return s("captureEvent",t)}function u(t){s("configureScope",t)}function l(t){s("addBreadcrumb",t)}function f(t,e){s("setContext",t,e)}function d(t){s("setExtras",t)}function h(t){s("setTags",t)}function p(t,e){s("setExtra",t,e)}function g(t,e){s("setTag",t,e)}function m(t){s("setUser",t)}function v(t){s("withScope",t)}function y(t,e){return s("startTransaction",Object(r["__assign"])({},t),e)}},"8a39":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("9ab4"),i=n("f8a5"),s=n("dc21"),a=n("cfe4"),o=n("f0b6"),c=n("1c4e"),u=n("9980"),l=n("c2fe"),f=n("af06"),d={Vue:Object(a["a"])().Vue,attachProps:!0,logErrors:!1,hooks:c["a"],timeout:2e3,trackComponents:!1,_metadata:{sdk:{name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:i["a"]}],version:i["a"]}}};function h(t){void 0===t&&(t={});var e=Object(r["__assign"])(Object(r["__assign"])({},d),t);if(Object(s["e"])(e),e.Vue||e.app)if(e.app){var n=Array.isArray(e.app)?e.app:[e.app];n.forEach((function(t){return p(t,e)}))}else e.Vue&&p(e.Vue,e);else l["a"]&&o["c"].warn("Misconfigured SDK. Vue specific errors will not be captured.\nUpdate your `Sentry.init` call with an appropriate config option:\n`app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).")}var p=function(t,e){Object(u["a"])(t,e),("tracesSampleRate"in e||"tracesSampler"in e)&&t.mixin(Object(f["a"])(Object(r["__assign"])(Object(r["__assign"])({},e),e.tracingOptions)))}},"8bac":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},"8c86":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c}));var r=n("9ab4"),i=6e4;function s(t,e){void 0===e&&(e=Date.now());var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?i:r-e}function a(t,e){return t[e]||t.all||0}function o(t,e,n){return void 0===n&&(n=Date.now()),a(t,e)>n}function c(t,e,n){var i,a,o,c;void 0===n&&(n=Date.now());var u=Object(r["__assign"])({},t),l=e["x-sentry-rate-limits"],f=e["retry-after"];if(l)try{for(var d=Object(r["__values"])(l.trim().split(",")),h=d.next();!h.done;h=d.next()){var p=h.value,g=p.split(":",2),m=parseInt(g[0],10),v=1e3*(isNaN(m)?60:m);if(g[1])try{for(var y=(o=void 0,Object(r["__values"])(g[1].split(";"))),b=y.next();!b.done;b=y.next()){var _=b.value;u[_]=n+v}}catch(S){o={error:S}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(o)throw o.error}}else u.all=n+v}}catch(C){i={error:C}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}else f&&(u.all=n+s(f,n));return u}},"91db":function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return h}));var r=n("cfe4"),i=n("f80d"),s={nowSeconds:function(){return Date.now()/1e3}};function a(){var t=Object(r["a"])().performance;if(t&&t.now){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}function o(){try{var e=Object(i["a"])(t,"perf_hooks");return e.performance}catch(n){return}}var c=Object(i["b"])()?o():a(),u=void 0===c?s:{nowSeconds:function(){return(c.timeOrigin+c.now())/1e3}},l=s.nowSeconds.bind(s),f=u.nowSeconds.bind(u),d=f,h=function(){var t=Object(r["a"])().performance;if(t&&t.now){var e=36e5,n=t.now(),i=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,a=s<e,o=t.timing&&t.timing.navigationStart,c="number"===typeof o,u=c?Math.abs(o+n-i):e,l=u<e;return a||l?s<=u?("timeOrigin",t.timeOrigin):("navigationStart",o):("dateNow",i)}"none"}()}).call(this,n("dd40")(t))},9980:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("956e"),i=n("3b50"),s=function(t,e){var n=t.config,s=n.errorHandler,a=n.warnHandler,o=n.silent;t.config.errorHandler=function(n,c,u){var l=Object(i["a"])(c,!1),f=c?Object(i["b"])(c):"",d={componentName:l,lifecycleHook:u,trace:f};if(c&&e.attachProps&&(d.propsData=c.$options.propsData||c.$props),setTimeout((function(){Object(r["b"])().withScope((function(t){t.setContext("vue",d),Object(r["b"])().captureException(n)}))})),"function"===typeof s&&s.call(t,n,c,u),e.logErrors){var h="undefined"!==typeof console,p="Error in "+u+': "'+(n&&n.toString())+'"';a?a.call(null,p,c,f):h&&!o&&console.error("[Vue warn]: "+p+f)}}}},a19e:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o}));var r=n("9ab4"),i=n("f404");function s(t,e){return void 0===e&&(e=[]),[t,e]}function a(t){var e=Object(r["__read"])(t,2),n=Object(r["__read"])(e[1],1),i=Object(r["__read"])(n[0],1),s=i[0];return s.type}function o(t){var e=Object(r["__read"])(t,2),n=e[0],s=e[1],a=JSON.stringify(n);return s.reduce((function(t,e){var n=Object(r["__read"])(e,2),s=n[0],a=n[1],o=Object(i["j"])(a)?String(a):JSON.stringify(a);return t+"\n"+JSON.stringify(s)+"\n"+o}),a)}},a518:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var r=n("9ab4"),i=50;function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.sort((function(t,e){return t[0]-e[0]})).map((function(t){return t[1]}));return function(t,e){var i,s,o,c;void 0===e&&(e=0);var u=[];try{for(var l=Object(r["__values"])(t.split("\n").slice(e)),f=l.next();!f.done;f=l.next()){var d=f.value;try{for(var h=(o=void 0,Object(r["__values"])(n)),p=h.next();!p.done;p=h.next()){var g=p.value,m=g(d);if(m){u.push(m);break}}}catch(v){o={error:v}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(o)throw o.error}}}}catch(y){i={error:y}}finally{try{f&&!f.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return a(u)}}function a(t){if(!t.length)return[];var e=t,n=e[0].function||"",s=e[e.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==s.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,i).map((function(t){return Object(r["__assign"])(Object(r["__assign"])({},t),{filename:t.filename||e[0].filename,function:t.function||"?"})})).reverse()}var o="<anonymous>";function c(t){try{return t&&"function"===typeof t&&t.name||o}catch(e){return o}}},af06:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("9ab4"),i=n("956e"),s=n("f0b6"),a=n("91db"),o=n("3b50"),c=n("1c4e"),u=n("c2fe"),l="ui.vue",f={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function d(){var t;return null===(t=Object(i["b"])().getScope())||void 0===t?void 0:t.getTransaction()}function h(t,e,n){t.$_sentryRootSpanTimer&&clearTimeout(t.$_sentryRootSpanTimer),t.$_sentryRootSpanTimer=setTimeout((function(){var n;(null===(n=t.$root)||void 0===n?void 0:n.$_sentryRootSpan)&&(t.$root.$_sentryRootSpan.finish(e),t.$root.$_sentryRootSpan=void 0)}),n)}var p=function(t){var e,n,i=(t.hooks||[]).concat(c["a"]).filter((function(t,e,n){return n.indexOf(t)===e})),p={},g=function(e){var n,i,c=f[e];if(!c)return u["a"]&&s["c"].warn("Unknown hook: "+e),"continue";var g=function(n){p[n]=function(){var r,i=this.$root===this;if(i){var s=d();s&&(this.$_sentryRootSpan=this.$_sentryRootSpan||s.startChild({description:"Application Render",op:l}))}var u=Object(o["a"])(this,!1),f=Array.isArray(t.trackComponents)?t.trackComponents.includes(u):t.trackComponents;if(i||f)if(this.$_sentrySpans=this.$_sentrySpans||{},n==c[0]){s=(null===(r=this.$root)||void 0===r?void 0:r.$_sentryRootSpan)||d();s&&(this.$_sentrySpans[e]=s.startChild({description:"Vue <"+u+">",op:l+"."+e}))}else{var p=this.$_sentrySpans[e];if(!p)return;p.finish(),h(this,Object(a["c"])(),t.timeout)}}};try{for(var m=(n=void 0,Object(r["__values"])(c)),v=m.next();!v.done;v=m.next()){var y=v.value;g(y)}}catch(b){n={error:b}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}};try{for(var m=Object(r["__values"])(i),v=m.next();!v.done;v=m.next()){var y=v.value;g(y)}}catch(b){e={error:b}}finally{try{v&&!v.done&&(n=m.return)&&n.call(m)}finally{if(e)throw e.error}}return p}},b4df0:function(t,e,n){"use strict";n("c73b")},bc5b:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return o}));var r=n("cfe4"),i=n("f404");function s(t,e){try{var n=t,r=5,i=80,s=[],o=0,c=0,u=" > ",l=u.length,f=void 0;while(n&&o++<r){if(f=a(n,e),"html"===f||o>1&&c+s.length*l+f.length>=i)break;s.push(f),c+=f.length,n=n.parentNode}return s.reverse().join(u)}catch(d){return"<unknown>"}}function a(t,e){var n,r,s,a,o,c=t,u=[];if(!c||!c.tagName)return"";u.push(c.tagName.toLowerCase());var l=e&&e.length?e.filter((function(t){return c.getAttribute(t)})).map((function(t){return[t,c.getAttribute(t)]})):null;if(l&&l.length)l.forEach((function(t){u.push("["+t[0]+'="'+t[1]+'"]')}));else if(c.id&&u.push("#"+c.id),n=c.className,n&&Object(i["l"])(n))for(r=n.split(/\s+/),o=0;o<r.length;o++)u.push("."+r[o]);var f=["type","name","title","alt"];for(o=0;o<f.length;o++)s=f[o],a=c.getAttribute(s),a&&u.push("["+s+'="'+a+'"]');return u.join("")}function o(){var t=Object(r["a"])();try{return t.document.location.href}catch(e){return""}}},bcd5:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row",staticStyle:{"padding-bottom":"170px"}},[t.$q.screen.lt.sm?e("TitleBar",{attrs:{"center-slot":"Buy again"}}):t._e(),t.$q.screen.lt.sm?t._e():e("div",{staticClass:"title self-center text-primary"},[t._v(" Buy again ")]),t._l(t.mapHistoryItems,(function(n){return e("div",{key:n.date,staticClass:"col-12",staticStyle:{padding:"16px"}},[e("div",{staticStyle:{"font-size":"18px","font-weight":"bold",opacity:"0.4"}},[t._v(" "+t._s(t._f("formatedDate")(n.date))+" ")]),e("div",{staticClass:"col-12 row items-stretch"},t._l(n.items,(function(n,r){return e("ProductCardV",{key:r,attrs:{info:n},on:{"add-to-cart":function(e){return t.AddToCart(n)}}})})),1)])})),e("MenuBar")],2)},i=[],s=(n("ddb0"),n("5139")),a=n("2f62"),o=n("256a"),c=n("2ba5"),u=n("837e"),l=n("23ad");u["a"].extend(l);var f={name:"HistoryItems",components:{ProductCardV:s["a"],TitleBar:()=>n.e("app~748942c6").then(n.bind(null,"1e1d")),MenuBar:()=>n.e("app~40ad7eb2").then(n.bind(null,"c247"))},mixins:[o["a"],c["a"]],data(){return{products:[],mapHistoryItems:[]}},computed:{...Object(a["b"])(["IsProductPriceInventoryLoaded"]),...Object(a["b"])(["user/loading"]),combined(){return!this["user/loading"]&&this.IsProductPriceInventoryLoaded}},watch:{combined:{immediate:!0,handler:function(t){t&&this.loadProducts()}}},created(){this.loadUser()},methods:{async loadProducts(){const t=this.$store.getters["branch/code"],e=await this.$store.dispatch("order/GetHistoryItems");let n=[];for(const o in e)n.push(parseInt(o));const r=await this.$store.dispatch("catalogs/GetMultiple",{list:n.map(t=>({cprcode:t})),branch:t}),i=[...new Set(Object.values(e))].sort((t,e)=>e-t),s=Object.entries(e),a=i.map(t=>{const e=s.filter(e=>e[1]===t).map(t=>r.find(e=>e.cprcode===parseInt(t[0]))),n=e.filter(t=>t&&t.cprcode);return{date:t,items:n}});this.products=r,this.mapHistoryItems=a}},filters:{formatedDate(t){return u["a"].unix(t).tz().format("LL")}}},d=f,h=(n("1b87"),n("2877")),p=Object(h["a"])(d,r,i,!1,null,"3799c71c",null);e["default"]=p.exports},c020:function(t,e,n){"use strict";function r(){var t="function"===typeof WeakSet,e=t?new WeakSet:[];function n(n){if(t)return!!e.has(n)||(e.add(n),!1);for(var r=0;r<e.length;r++){var i=e[r];if(i===n)return!0}return e.push(n),!1}function r(n){if(t)e.delete(n);else for(var r=0;r<e.length;r++)if(e[r]===n){e.splice(r,1);break}}return[n,r]}n.d(e,"a",(function(){return r}))},c2fe:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},c581:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("d568"),i=["fatal","error","warning","log","info","debug","critical"];function s(t){return-1!==i.indexOf(t)}function a(t){return"warn"===t?r["a"].Warning:s(t)?t:r["a"].Log}},c73b:function(t,e,n){},cef4:function(t,e,n){"use strict";n("6472")},cf4c:function(t,e,n){"use strict";function r(t){return t>=200&&t<300?"success":429===t?"rate_limit":t>=400&&t<500?"invalid":t>=500?"failed":"unknown"}n.d(e,"a",(function(){return r}))},cfe4:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("f80d"),i={};function s(){return Object(r["b"])()?t:"undefined"!==typeof window?window:"undefined"!==typeof self?self:i}function a(t,e,n){var r=n||s(),i=r.__SENTRY__=r.__SENTRY__||{},a=i[t]||(i[t]=e());return a}}).call(this,n("c8ba"))},d568:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t["Fatal"]="fatal",t["Error"]="error",t["Warning"]="warning",t["Log"]="log",t["Info"]="info",t["Debug"]="debug",t["Critical"]="critical"}(r||(r={}))},d9b7:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("ea14"),i=n("f0b6"),s=n("8bac"),a=n("1461");function o(){Object(r["a"])("error",c),Object(r["a"])("unhandledrejection",c)}function c(){var t=Object(a["a"])();if(t){var e="internal_error";s["a"]&&i["c"].log("[Tracing] Transaction: "+e+" -> Global error occured"),t.setStatus(e)}}},e12b:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return l}));var r=n("3437"),i=n("cfe4"),s=n("f0b6");function a(){if(!("fetch"in Object(i["a"])()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function o(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function c(){if(!a())return!1;var t=Object(i["a"])();if(o(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"===typeof n.createElement)try{var c=n.createElement("iframe");c.hidden=!0,n.head.appendChild(c),c.contentWindow&&c.contentWindow.fetch&&(e=o(c.contentWindow.fetch)),n.head.removeChild(c)}catch(u){r["a"]&&s["c"].warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",u)}return e}function u(){if(!a())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function l(){var t=Object(i["a"])(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}},e706:function(t,e,n){"use strict";(function(t){var r;if(n.d(e,"a",(function(){return i})),"undefined"!==typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!==typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!==typeof t&&t.crypto&&(r=t.crypto),!r)try{r=n(1)}catch(s){}function i(){if(r){if("function"===typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(s){}if("function"===typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(s){}}throw new Error("Native crypto module could not be used to get secure random number.")}}).call(this,n("c8ba"))},e8f5:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"h",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return g})),n.d(e,"c",(function(){return m}));var r=n("9ab4"),i=n("bc5b"),s=n("f404"),a=n("fbdd");function o(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"===typeof i)try{u(i,r)}catch(s){}t[e]=i}}function c(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function u(t,e){var n=e.prototype||{};t.prototype=e.prototype=n,c(t,"__sentry_original__",e)}function l(t){return t.__sentry_original__}function f(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function d(t){var e=t;if(Object(s["d"])(t))e=Object(r["__assign"])({message:t.message,name:t.name,stack:t.stack},p(t));else if(Object(s["f"])(t)){var n=t;e=Object(r["__assign"])({type:n.type,target:h(n.target),currentTarget:h(n.currentTarget)},p(n)),"undefined"!==typeof CustomEvent&&Object(s["g"])(t,CustomEvent)&&(e.detail=n.detail)}return e}function h(t){try{return Object(s["c"])(t)?Object(i["b"])(t):Object.prototype.toString.call(t)}catch(e){return"<unknown>"}}function p(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function g(t,e){void 0===e&&(e=40);var n=Object.keys(d(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Object(a["d"])(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:Object(a["d"])(i,e)}return""}function m(t){var e,n;if(Object(s["i"])(t)){var i={};try{for(var a=Object(r["__values"])(Object.keys(t)),o=a.next();!o.done;o=a.next()){var c=o.value;"undefined"!==typeof t[c]&&(i[c]=m(t[c]))}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(m):t}},ea14:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r,i=n("9ab4"),s=n("3437"),a=n("cfe4"),o=n("f404"),c=n("f0b6"),u=n("e8f5"),l=n("a518"),f=n("e12b"),d=Object(a["a"])(),h={},p={};function g(t){if(!p[t])switch(p[t]=!0,t){case"console":y();break;case"dom":U();break;case"xhr":C();break;case"fetch":b();break;case"history":w();break;case"error":x();break;case"unhandledrejection":R();break;default:return void(s["a"]&&c["c"].warn("unknown instrumentation type:",t))}}function m(t,e){h[t]=h[t]||[],h[t].push(e),g(t)}function v(t,e){var n,r;if(t&&h[t])try{for(var a=Object(i["__values"])(h[t]||[]),o=a.next();!o.done;o=a.next()){var u=o.value;try{u(e)}catch(f){s["a"]&&c["c"].error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(l["b"])(u)+"\nError:",f)}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function y(){"console"in d&&c["a"].forEach((function(t){t in d.console&&Object(u["e"])(d.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];v("console",{args:n,level:t}),e&&e.apply(d.console,n)}}))}))}function b(){Object(f["d"])()&&Object(u["e"])(d,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:_(e),url:S(e)},startTimestamp:Date.now()};return v("fetch",Object(i["__assign"])({},r)),t.apply(d,e).then((function(t){return v("fetch",Object(i["__assign"])(Object(i["__assign"])({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw v("fetch",Object(i["__assign"])(Object(i["__assign"])({},r),{endTimestamp:Date.now(),error:t})),t}))}}))}function _(t){return void 0===t&&(t=[]),"Request"in d&&Object(o["g"])(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function S(t){return void 0===t&&(t=[]),"string"===typeof t[0]?t[0]:"Request"in d&&Object(o["g"])(t[0],Request)?t[0].url:String(t[0])}function C(){if("XMLHttpRequest"in d){var t=XMLHttpRequest.prototype;Object(u["e"])(t,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=e[1],s=r.__sentry_xhr__={method:Object(o["l"])(e[0])?e[0].toUpperCase():e[0],url:e[1]};Object(o["l"])(i)&&"POST"===s.method&&i.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var a=function(){if(4===r.readyState){try{s.status_code=r.status}catch(t){}v("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"===typeof r.onreadystatechange?Object(u["e"])(r,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(r,e)}})):r.addEventListener("readystatechange",a),t.apply(r,e)}})),Object(u["e"])(t,"send",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.__sentry_xhr__&&void 0!==e[0]&&(this.__sentry_xhr__.body=e[0]),v("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}}function w(){if(Object(f["c"])()){var t=d.onpopstate;d.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=d.location.href,s=r;if(r=i,v("history",{from:s,to:i}),t)try{return t.apply(this,e)}catch(a){}},Object(u["e"])(d.history,"pushState",e),Object(u["e"])(d.history,"replaceState",e)}function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.length>2?e[2]:void 0;if(i){var s=r,a=String(i);r=a,v("history",{from:s,to:a})}return t.apply(this,e)}}}var T,O,D=1e3;function E(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(n){}return!1}function A(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(n){}return!0}function I(t,e){return void 0===e&&(e=!1),function(n){if(n&&O!==n&&!A(n)){var r="keypress"===n.type?"input":n.type;(void 0===T||E(O,n))&&(t({event:n,name:r,global:e}),O=n),clearTimeout(T),T=d.setTimeout((function(){T=void 0}),D)}}}function U(){if("document"in d){var t=v.bind(null,"dom"),e=I(t,!0);d.document.addEventListener("click",e,!1),d.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=d[e]&&d[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(u["e"])(n,"addEventListener",(function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var s=this,a=s.__sentry_instrumentation_handlers__=s.__sentry_instrumentation_handlers__||{},o=a[n]=a[n]||{refCount:0};if(!o.handler){var c=I(t);o.handler=c,e.call(this,n,c,i)}o.refCount+=1}catch(u){}return e.call(this,n,r,i)}})),Object(u["e"])(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var i=this,s=i.__sentry_instrumentation_handlers__||{},a=s[e];a&&(a.refCount-=1,a.refCount<=0&&(t.call(this,e,a.handler,r),a.handler=void 0,delete s[e]),0===Object.keys(s).length&&delete i.__sentry_instrumentation_handlers__)}catch(o){}return t.call(this,e,n,r)}})))}))}}var j=null;function x(){j=d.onerror,d.onerror=function(t,e,n,r,i){return v("error",{column:r,error:i,line:n,msg:t,url:e}),!!j&&j.apply(this,arguments)}}var k=null;function R(){k=d.onunhandledrejection,d.onunhandledrejection=function(t){return v("unhandledrejection",t),!k||k.apply(this,arguments)}}},f0b6:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return r}));var r,i=n("9ab4"),s=n("3437"),a=n("cfe4"),o=Object(a["a"])(),c="Sentry Logger ",u=["debug","info","warn","error","log","assert"];function l(t){var e=Object(a["a"])();if(!("console"in e))return t();var n=e.console,r={};u.forEach((function(t){var i=n[t]&&n[t].__sentry_original__;t in e.console&&i&&(r[t]=n[t],n[t]=i)}));try{return t()}finally{Object.keys(r).forEach((function(t){n[t]=r[t]}))}}function f(){var t=!1,e={enable:function(){t=!0},disable:function(){t=!1}};return s["a"]?u.forEach((function(n){e[n]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t&&l((function(){var t;(t=o.console)[n].apply(t,Object(i["__spread"])([c+"["+n+"]:"],e))}))}})):u.forEach((function(t){e[t]=function(){}})),e}r=s["a"]?Object(a["b"])("logger",f):f()},f324:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function i(t){var e=t.match(r);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}},f404:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"l",(function(){return u})),n.d(e,"j",(function(){return l})),n.d(e,"i",(function(){return f})),n.d(e,"f",(function(){return d})),n.d(e,"c",(function(){return h})),n.d(e,"k",(function(){return p})),n.d(e,"n",(function(){return g})),n.d(e,"m",(function(){return m})),n.d(e,"h",(function(){return v})),n.d(e,"g",(function(){return y}));var r=Object.prototype.toString;function i(t){switch(r.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(t,Error)}}function s(t,e){return r.call(t)==="[object "+e+"]"}function a(t){return s(t,"ErrorEvent")}function o(t){return s(t,"DOMError")}function c(t){return s(t,"DOMException")}function u(t){return s(t,"String")}function l(t){return null===t||"object"!==typeof t&&"function"!==typeof t}function f(t){return s(t,"Object")}function d(t){return"undefined"!==typeof Event&&y(t,Event)}function h(t){return"undefined"!==typeof Element&&y(t,Element)}function p(t){return s(t,"RegExp")}function g(t){return Boolean(t&&t.then&&"function"===typeof t.then)}function m(t){return f(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function v(t){return"number"===typeof t&&t!==t}function y(t,e){try{return t instanceof e}catch(n){return!1}}},f4fc:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("9ab4"),i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?s:a);function s(t,e){return t.__proto__=e,t}function a(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n]);return t}var o=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,i(r,n.prototype),r}return Object(r["__extends"])(e,t),e}(Error)},f7f6:function(t,e,n){"use strict";n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return d}));var r=n("9ab4"),i=n("cfe4"),s=n("e8f5");n("fbdd");function a(){var t=Object(i["a"])(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){var e=t.toString(16);while(e.length<4)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)}))}function o(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function c(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function u(t){var e=t.message,n=t.event_id;if(e)return e;var r=c(t);return r?r.type&&r.value?r.type+": "+r.value:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(t,e,n){var r=t.exception=t.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=n||"Error")}function f(t,e){var n=c(t);if(n){var i={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism=Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])({},i),s),e),e&&"data"in e){var a=Object(r["__assign"])(Object(r["__assign"])({},s&&s.data),e.data);n.mechanism.data=a}}}function d(t){if(t&&t.__sentry_captured__)return!0;try{Object(s["a"])(t,"__sentry_captured__",!0)}catch(e){}return!1}},f80d:function(t,e,n){"use strict";(function(t,r){n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return o}));var i=n("450c");function s(){return!Object(i["a"])()&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof t?t:0)}function a(t,e){return t.require(e)}function o(t){var e;try{e=a(r,t)}catch(i){}try{var n=a(r,"process").cwd;e=a(r,n()+"/node_modules/"+t)}catch(i){}return e}}).call(this,n("4362"),n("dd40")(t))},fbdd:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var r=n("f404");function i(t,e){return void 0===e&&(e=0),"string"!==typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function s(t,e){var n=t,r=n.length;if(r<=150)return n;e>r&&(e=r);var i=Math.max(e-60,0);i<5&&(i=0);var s=Math.min(i+140,r);return s>r-5&&(s=r),s===r&&(i=Math.max(s-140,0)),n=n.slice(i,s),i>0&&(n="'{snip} "+n),s<r&&(n+=" {snip}"),n}function a(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(s){n.push("[value cannot be serialized]")}}return n.join(e)}function o(t,e){return!!Object(r["l"])(t)&&(Object(r["k"])(e)?e.test(t):"string"===typeof e&&-1!==t.indexOf(e))}}}]);